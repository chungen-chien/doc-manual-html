<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²ä¸­ä»‹å·¥å…· SDK æ–‡ä»¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* é€™è£¡æ˜¯é‡å°æ–°ä½ˆå±€çš„æ¨£å¼èª¿æ•´ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0f172a; /* slate-900 */
            color: #cbd5e1; /* slate-300 */
        }
        .nav-link {
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
            display: block;
            border-radius: 0.375rem; /* rounded-md */
        }
        .nav-link.active, .nav-link:hover {
            border-left-color: #2dd4bf; /* teal-400 */
            color: #f0fdfa; /* teal-50 */
            background-color: #1e293b; /* slate-800 */
        }
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .content-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .api-list-item.active {
            background-color: #1e293b; /* slate-800 */
            color: #5eead4; /* teal-300 */
            font-weight: 500;
        }
        .flowchart-wrapper {
            background-color: #020617; /* slate-950 */
            padding: 2rem;
            border-radius: 0.5rem;
            border: 1px solid #1e293b; /* slate-800 */
            overflow-x: auto;
        }
        .flow-step {
            border: 1px solid #334155; /* slate-700 */
            background-color: #1e293b; /* slate-800 */
            color: #e2e8f0; /* slate-200 */
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            text-align: center;
            min-width: 180px;
            z-index: 10;
            position: relative;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        .flow-step:hover {
            border-color: #2dd4bf; /* teal-400 */
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
            transform: translateY(-3px);
        }
        .flow-arrow {
            position: relative;
            width: 2px;
            height: 40px; /* Space between steps */
            background-color: #334155; /* slate-700 */
            margin: 0 auto;
            z-index: 1;
        }
        .flow-arrow::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #334155; /* slate-700 */
        }
        .release-tag {
            font-size: 0.75rem;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-weight: 500;
        }
        .tag-feature { background-color: #059669; color: #ecfdf5; } /* emerald-600 */
        .tag-improvement { background-color: #2563eb; color: #dbeafe; } /* blue-600 */
        .tag-initial { background-color: #4f46e5; color: #e0e7ff; } /* indigo-600 */
        .code-block-wrapper {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #334155; /* slate-700 */
            color: #e2e8f0; /* slate-200 */
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .copy-btn:hover {
            background-color: #475569; /* slate-600 */
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen">
        <!-- Header: é€™éƒ¨åˆ†ä¿æŒä¸è®Š -->
        <header class="bg-slate-900/80 backdrop-blur-sm border-b border-slate-700/50 sticky top-0 z-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                <h1 class="text-2xl sm:text-4xl font-bold text-teal-400">éŠæˆ²ä¸­ä»‹å·¥å…· SDK æ–‡ä»¶</h1>
            </div>
        </header>

        <!-- ä¸»è¦ä½ˆå±€å®¹å™¨: ä½¿ç”¨ flex å°‡å°è¦½å’Œä¸»å…§å®¹ä¸¦æ’ -->
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row">
            <!-- Navigation: ç§»è‡³å·¦å´ï¼Œä¸¦è¨­å®šç‚º sticky -->
            <nav class="w-full md:w-60 lg:w-64 flex-shrink-0 md:sticky md:top-24 md:self-start md:py-8 md:pr-8">
                <div class="flex flex-row md:flex-col md:space-y-1 p-4 md:p-0 overflow-x-auto">
                    <a href="#" class="nav-link active flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="overview">ç¸½è¦½</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="architecture">æ ¸å¿ƒæ¶æ§‹</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="api">API åƒè€ƒ</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="flows">æ ¸å¿ƒæµç¨‹</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="integration">æ•´åˆæŒ‡å—</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="errors">éŒ¯èª¤ç¢¼åƒè€ƒ</a>
                    <a href="#" class="nav-link flex-shrink-0 py-2 px-3 text-sm sm:text-base font-medium text-slate-400" data-target="releases">ç™¼å¸ƒèªªæ˜</a>
                </div>
            </nav>

            <!-- Main Content: ä½”ç”¨å‰©é¤˜ç©ºé–“ -->
            <main class="flex-grow px-4 sm:px-6 lg:px-0 md:py-8">
                
                <!-- Overview Section -->
                <section id="overview" class="content-section active">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-4">SDK å•†æ¥­é‚è¼¯èˆ‡åƒ¹å€¼</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">
                            æœ¬ç¯€é—¡è¿°äº†éŠæˆ²ä¸­ä»‹è»Ÿé«” SDK çš„æ ¸å¿ƒå•†æ¥­åƒ¹å€¼ã€‚å…¶ç›®æ¨™æ˜¯ä½œç‚ºé€£æ¥éŠæˆ²å‰ç«¯èˆ‡å¾Œç«¯æœå‹™çš„æ©‹æ¨‘ï¼Œå°‡è¤‡é›œçš„åº•å±¤æŠ€è¡“æŠ½è±¡åŒ–ï¼Œå¾è€Œè®“é–‹ç™¼åœ˜éšŠèƒ½å¤ å°ˆæ³¨æ–¼å‰µé€ å“è¶Šçš„éŠæˆ²é«”é©—ï¼ŒåŒæ™‚ç¢ºä¿ç”¢å“çš„ç©©å®šæ€§ã€å®‰å…¨æ€§èˆ‡å¯æ“´å±•æ€§ã€‚
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200 mb-2">ğŸš€ ç°¡åŒ–é–‹ç™¼æµç¨‹</h3>
                                <p class="text-sm text-slate-400">å°è£è¤‡é›œçš„ç¶²è·¯é€šè¨Šã€è³‡æ–™è™•ç†ç­‰åº•å±¤é‚è¼¯ï¼Œè®“é–‹ç™¼è€…èƒ½å°ˆæ³¨æ–¼éŠæˆ²ç©æ³•èˆ‡ä½¿ç”¨è€…é«”é©—ï¼Œå¤§å¹…ç¸®çŸ­é–‹ç™¼é€±æœŸã€‚</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200 mb-2">ğŸ›¡ï¸ ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§èˆ‡å®‰å…¨æ€§</h3>
                                <p class="text-sm text-slate-400">é€éæ¨™æº–åŒ–å”å®šèˆ‡éŒ¯èª¤è™•ç†ï¼Œç¢ºä¿ç©å®¶é¤˜é¡ã€éŠæˆ²çµæœç­‰äº¤æ˜“è³‡æ–™åœ¨å‚³è¼¸æ™‚çš„æº–ç¢ºæ€§èˆ‡å®Œæ•´æ€§ï¼Œé™ä½é¢¨éšªã€‚</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200 mb-2">ğŸ® æå‡ä½¿ç”¨è€…é«”é©—</h3>
                                <p class="text-sm text-slate-400">æ”¯æ´å¯¦æ™‚äº’å‹•ã€å…§å»ºæ–·ç·šé‡é€£æ©Ÿåˆ¶èˆ‡å³æ™‚äº‹ä»¶é€šçŸ¥ï¼Œæä¾›æµæš¢ã€ä¸ä¸­æ–·çš„éŠæˆ²é«”é©—ï¼Œå¢å¼·ç©å®¶çš„æŠ•å…¥æ„Ÿã€‚</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200 mb-2">ğŸ§© æ”¯æ´å¤šæ¨£åŒ–éŠæˆ²åŠŸèƒ½</h3>
                                <p class="text-sm text-slate-400">æ¨¡çµ„åŒ–è¨­è¨ˆæ˜“æ–¼æ“´å±•ï¼Œèƒ½å¿«é€Ÿæ”¯æ´æœƒè©±ç®¡ç†ã€å½©é‡‘ç³»çµ±ã€ç©å®¶è³‡ç”¢ç®¡ç†ç­‰å¤šæ¨£åŒ–çš„éŠæˆ²åŠŸèƒ½éœ€æ±‚ã€‚</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200 mb-2">ğŸ”§ æ˜“æ–¼ç¶­è­·èˆ‡å‡ç´š</h3>
                                <p class="text-sm text-slate-400">æ ¸å¿ƒé€šè¨Šé‚è¼¯é›†ä¸­åœ¨ SDK ä¸­ï¼Œç•¶å¾Œç«¯æœå‹™å‡ç´šæ™‚ï¼Œåƒ…éœ€æ›´æ–° SDKï¼Œå¤§å¹…æ¸›å°‘å°éŠæˆ²å®¢æˆ¶ç«¯çš„ä¿®æ”¹ã€‚</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Architecture Section -->
                <section id="architecture" class="content-section">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">æ ¸å¿ƒæ¶æ§‹</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æœ¬ SDK æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œå°‡è¤‡é›œçš„åŠŸèƒ½æ‹†è§£ç‚ºå¹¾å€‹ç¨ç«‹ä¸”å°ˆæ³¨çš„æ ¸å¿ƒæ¨¡çµ„ã€‚é€™ç¨®è¨­è¨ˆæé«˜äº†å¯ç¶­è­·æ€§èˆ‡æ“´å±•æ€§ï¼Œè®“å„å€‹éƒ¨åˆ†èƒ½é«˜æ•ˆå”åŒå·¥ä½œï¼Œç‚ºéŠæˆ²å®¢æˆ¶ç«¯æä¾›ç©©å®šä¸”é«˜æ•ˆçš„å¾Œç«¯é€šè¨Šèƒ½åŠ›ã€‚</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div class="p-5 border-l-4 border-teal-400 bg-teal-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-teal-300">`GSMiddleware.ts` (æ ¸å¿ƒ)</h3>
                                <p class="mt-1 text-sm text-teal-400/80">ä½œç‚º SDK çš„ä¸»è¦å…¥å£é»ï¼Œå°è£äº†æ‰€æœ‰é«˜éš APIï¼Œè™•ç†éŠæˆ²é‚è¼¯å±¤çš„è«‹æ±‚èˆ‡äº‹ä»¶åˆ†ç™¼ã€‚</p>
                            </div>
                            <div class="p-5 border-l-4 border-sky-400 bg-sky-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-sky-300">`ConnectManager.ts` (é€£ç·šç®¡ç†)</h3>
                                <p class="mt-1 text-sm text-sky-400/80">è² è²¬ WebSocket/STOMP é€£ç·šçš„å»ºç«‹ã€ç¶­è­·ã€æ–·ç·šåµæ¸¬ã€è‡ªå‹•é‡é€£åŠè¨Šæ¯çš„ç™¼é€èˆ‡è¨‚é–±ã€‚</p>
                            </div>
                            <div class="p-5 border-l-4 border-amber-400 bg-amber-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-amber-300">`EventHandler.ts` (äº‹ä»¶è™•ç†)</h3>
                                <p class="mt-1 text-sm text-amber-400/80">æä¾›å…¨å±€äº‹ä»¶ç™¼å¸ƒèˆ‡è¨‚é–±æ©Ÿåˆ¶ï¼Œç¢ºä¿ SDK å…§éƒ¨æ¨¡çµ„å’ŒéŠæˆ²å®¢æˆ¶ç«¯èƒ½é€éæ¨™æº–äº‹ä»¶é€²è¡Œé€šè¨Šã€‚</p>
                            </div>
                            <div class="p-5 border-l-4 border-red-400 bg-red-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-red-300">`MessageHandler.ts` (è¨Šæ¯è™•ç†)</h3>
                                <p class="mt-1 text-sm text-red-400/80">è™•ç†èˆ‡çˆ¶å®¹å™¨ (iframe) ä¹‹é–“çš„ `postMessage` é€šè¨Šï¼Œç”¨æ–¼ç‰¹æ®Šè¨Šæ¯ï¼ˆå¦‚é‡é€£ç¥¨æ“šæ›´æ–°ï¼‰ã€‚</p>
                            </div>
                            <div class="p-5 border-l-4 border-indigo-400 bg-indigo-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-indigo-300">`index.ts` (å…¥å£/å°å‡º)</h3>
                                <p class="mt-1 text-sm text-indigo-400/80">ä½œç‚º SDK çš„ä¸»è¦å°å‡ºæª”æ¡ˆï¼Œå®šç¾©äº†å°å¤–æš´éœ²çš„ä»‹é¢ã€å¸¸é‡å’Œé¡åˆ¥ï¼Œæ–¹ä¾¿éŠæˆ²å®¢æˆ¶ç«¯å°å…¥ã€‚</p>
                            </div>
                            <div class="p-5 border-l-4 border-purple-400 bg-purple-400/10 rounded-r-lg">
                                <h3 class="text-lg font-bold text-purple-300">`utils` (å·¥å…·)</h3>
                                <p class="mt-1 text-sm text-purple-400/80">åŒ…å«å¸¸é‡ã€ä»‹é¢å’ŒéŒ¯èª¤ä»£ç¢¼ï¼Œæä¾›çµ±ä¸€çš„æ•¸æ“šçµæ§‹å’Œé€šè¨Šè¦ç¯„ï¼Œç¢ºä¿å„æ¨¡çµ„ä¹‹é–“æ•¸æ“šçš„ä¸€è‡´æ€§ã€‚</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- API Reference Section -->
                <section id="api" class="content-section">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">API åƒè€ƒ</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æ­¤è™•ç‚º SDK çš„è©³ç´° API æ–‡ä»¶ã€‚é»æ“Šå·¦å´åˆ—è¡¨ä¸­çš„æ–¹æ³•ä»¥æŸ¥çœ‹å…¶è©³ç´°èªªæ˜ã€åƒæ•¸å’Œç¨‹å¼ç¢¼ç¯„ä¾‹ã€‚æ‰€æœ‰ç¯„ä¾‹éƒ½æä¾›äº†ã€Œè¤‡è£½ã€æŒ‰éˆ•ï¼Œä»¥æ–¹ä¾¿æ‚¨åœ¨é–‹ç™¼ä¸­å¿«é€Ÿä½¿ç”¨ã€‚</p>
                        <div class="flex flex-col md:flex-row gap-6">
                            <div class="md:w-1/3 lg:w-1/4">
                                <ul id="api-list" class="bg-slate-800/50 rounded-lg border border-slate-700 overflow-hidden"></ul>
                            </div>
                            <div id="api-detail" class="md:w-2/3 lg:w-3/4 flex-1"></div>
                        </div>
                    </div>
                </section>

                <!-- Flows Section -->
                <section id="flows" class="content-section">
                     <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">æ ¸å¿ƒæµç¨‹</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æœ¬ç¯€é€éæ­¥é©ŸåŒ–èªªæ˜ï¼Œå¹«åŠ©æ‚¨ç†è§£ SDK çš„æ ¸å¿ƒé‹ä½œæ©Ÿåˆ¶ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–é€£ç·šã€ç™»å…¥ä»¥åŠæ–·ç·šé‡é€£ç­‰é—œéµå¾ªç’°ã€‚</p>
                        
                        <h3 class="text-xl font-bold text-slate-200 mb-6 text-center">4.1 SDK åˆå§‹åŒ–èˆ‡é€£ç·šæµç¨‹</h3>
                        <div class="flowchart-wrapper flex flex-col items-center">
                            <div class="flow-step">1. éŠæˆ²å•Ÿå‹•èˆ‡ SDK å¯¦ä¾‹åŒ–</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">2. ç™¼èµ·é€£ç·šè«‹æ±‚ (mySDK.connect())</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">3. å»ºç«‹åº•å±¤é€£ç·š (WebSocket & STOMP)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">4. SDK å…§éƒ¨è¨‚é–±</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">5. é€£ç·šæˆåŠŸé€šçŸ¥ (Connection äº‹ä»¶)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">6. é€£ç·šå¤±æ•—è™•ç† (ConnectionLost äº‹ä»¶)</div>
                        </div>

                        <h3 class="text-xl font-bold text-slate-200 mb-6 mt-12 text-center">4.2 ç™»å…¥æµç¨‹</h3>
                        <div class="flowchart-wrapper flex flex-col items-center">
                            <div class="flow-step">1. ç™¼èµ·ç™»å…¥è«‹æ±‚ (mySDK.login())</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">2. åˆ¤æ–·ç™»å…¥é¡å‹ä¸¦ç™¼é€è«‹æ±‚</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">3. ä¼ºæœå™¨è™•ç†èˆ‡å›æ‡‰ (loginResponse)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">4. SDK è™•ç†å›æ‡‰èˆ‡äº‹ä»¶å»£æ’­ (Login / LoginError äº‹ä»¶)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">5. éŠæˆ²è™•ç†ç™»å…¥çµæœ</div>
                        </div>

                        <h3 class="text-xl font-bold text-slate-200 mb-6 mt-12 text-center">4.3 æ–·ç·šèˆ‡é‡æ–°é€£ç·šæµç¨‹</h3>
                        <div class="flowchart-wrapper flex flex-col items-center">
                            <div class="flow-step">1. åµæ¸¬é€£ç·šä¸­æ–· (onStompError / onDisconnect)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">2. å»£æ’­é€£ç·šä¸­æ–·äº‹ä»¶ (ConnectionLost äº‹ä»¶)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">3. éŠæˆ²è§¸ç™¼é‡é€£ (mySDK.reconnect() - å¯é¸)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">4. å•Ÿå‹•å…§éƒ¨é‡é€£æ©Ÿåˆ¶</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">5. è™•ç†é‡é€£çµæœ (Connection / Error äº‹ä»¶)</div>
                            <div class="flow-arrow"></div>
                            <div class="flow-step">6. éŠæˆ²è™•ç†å¾ŒçºŒé‚è¼¯</div>
                        </div>
                    </div>
                </section>

                <!-- Integration Guide Section -->
                <section id="integration" class="content-section">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">æ•´åˆæŒ‡å— / å¿«é€Ÿå…¥é–€</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æœ¬ç¯€å°‡å¼•å°æ‚¨å¦‚ä½•åœ¨éŠæˆ²å°ˆæ¡ˆä¸­å¿«é€Ÿæ•´åˆä¸¦é–‹å§‹ä½¿ç”¨ SDKã€‚æˆ‘å€‘å°‡ä»¥ä¸€å€‹å®Œæ•´çš„ã€Œé€£ç·š -> ç™»å…¥ -> ç™¼é€åˆå§‹åŒ–è«‹æ±‚ã€æµç¨‹ä½œç‚ºç¯„ä¾‹ï¼Œä¸¦æä¾›æœ€ä½³å¯¦è¸å»ºè­°ã€‚</p>
                        
                        <h3 class="text-xl font-bold text-slate-200 mb-4">6.1 æ­¥é©Ÿæ¦‚è¦½</h3>
                        <ol class="list-decimal list-inside text-slate-200 space-y-2 mb-8">
                            <li><b>ç’°å¢ƒæº–å‚™</b>ï¼šç¢ºä¿æ‚¨çš„é–‹ç™¼ç’°å¢ƒç¬¦åˆ SDK çš„å‰ç½®æ¢ä»¶ã€‚</li>
                            <li><b>å°å…¥ SDK</b>ï¼šå°‡ç·¨è­¯å¥½çš„ SDK æª”æ¡ˆå°å…¥åˆ°æ‚¨çš„éŠæˆ²å°ˆæ¡ˆä¸­ã€‚</li>
                            <li><b>åˆå§‹åŒ– SDK</b>ï¼šå»ºç«‹ <code>GSMiddleware</code> å¯¦ä¾‹ä¸¦é…ç½®é€£ç·šåƒæ•¸ã€‚</li>
                            <li><b>ç›£è½äº‹ä»¶</b>ï¼šè¨»å†Šå¿…è¦çš„äº‹ä»¶ç›£è½å™¨ï¼Œä»¥æ¥æ”¶ SDK çš„å›èª¿ã€‚</li>
                            <li><b>å»ºç«‹é€£ç·š</b>ï¼šå‘¼å« <code>connect()</code> æ–¹æ³•èˆ‡ä¼ºæœå™¨å»ºç«‹é€£ç·šã€‚</li>
                            <li><b>åŸ·è¡Œç™»å…¥</b>ï¼šåœ¨é€£ç·šæˆåŠŸå¾Œï¼Œç™¼é€ç™»å…¥è«‹æ±‚ã€‚</li>
                            <li><b>ç™¼é€åˆå§‹åŒ–æŒ‡ä»¤</b>ï¼šç™»å…¥æˆåŠŸå¾Œï¼Œç™¼é€éŠæˆ²åˆå§‹åŒ–æŒ‡ä»¤ã€‚</li>
                        </ol>

                        <h3 class="text-xl font-bold text-slate-200 my-4">6.2 é€æ­¥æ•´åˆç¯„ä¾‹</h3>
                        <p class="text-slate-400 mb-4">å‡è¨­æ‚¨æ­£åœ¨é–‹ç™¼ä¸€å€‹åŸºæ–¼ TypeScript çš„éŠæˆ²ï¼Œä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡åŒ–çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°‡ SDK æ•´åˆåˆ°æ‚¨çš„éŠæˆ²é‚è¼¯ä¸­ï¼š</p>
                        <div class="code-block-wrapper">
                            <pre class="bg-slate-900/70 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>// å‡è¨­é€™æ˜¯æ‚¨çš„éŠæˆ²ä¸»è…³æœ¬æˆ–å…¥å£é»
import { GSMiddleware, GSM } from "./path/to/your/sdk/index.js"; // è«‹æ ¹æ“šå¯¦éš›è·¯å¾‘èª¿æ•´

class GameClient {
    private mySDK: GSMiddleware;
    private gameConfig: any; // æ‚¨çš„éŠæˆ²é…ç½®

    constructor() {
        // 1. æº–å‚™ SDK é…ç½®
        this.gameConfig = {
            host: 'your-game-server.com', // æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›ä¼ºæœå™¨åœ°å€
            port: 8080,                   // æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›ä¼ºæœå™¨ç«¯å£
            uidA: 'player_unique_id_123', // æ›¿æ›ç‚ºå¯¦éš›ç©å®¶å”¯ä¸€ID
            userName: 'TestPlayer',       // æ›¿æ›ç‚ºå¯¦éš›ç©å®¶åç¨±
            gameLoginName: 'gameLogin',   // æˆ– 'testGameLogin' æ ¹æ“šæ‚¨çš„éœ€æ±‚
            sessionID3: 'session_id_abc', // æ›¿æ›ç‚ºå¯¦éš›sessionID3
            gameType: 1,
            gameId: 1001,
            jackpotGroup: 'default_jp_group'
        };

        // 2. åˆå§‹åŒ– SDK
        this.mySDK = new GSMiddleware(this.gameConfig);

        // 3. è¨»å†Šäº‹ä»¶ç›£è½å™¨
        this.registerSDKEvents();

        // 4. å•Ÿå‹•é€£ç·š
        this.mySDK.connect();
    }

    private registerSDKEvents(): void {
        // ç›£è½é€£ç·šäº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Connection, this.onConnection.bind(this));
        this.mySDK.addEventListener(GSM.Event.ConnectionLost, this.onConnectionLost.bind(this));

        // ç›£è½ç™»å…¥äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Login, this.onLogin.bind(this));
        this.mySDK.addEventListener(GSM.Event.LoginError, this.onLoginError.bind(this));

        // ç›£è½æŒ‡ä»¤å›æ‡‰ (ç”¨æ–¼ Spin, Settle, Init ç­‰)
        this.mySDK.addEventListener(GSM.Event.Command, this.onCommand.bind(this));

        // ç›£è½éŒ¯èª¤äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Error, this.onError.bind(this));

        // ç›£è½é¤˜é¡è®Šæ›´äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Balance, this.onBalance.bind(this));

        // ç›£è½å½©é‡‘äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Jackpot, this.onJackpot.bind(this));
    }

    private onConnection(detail: GSM.IConnection): void {
        if (detail.success) {
            console.log('SDK é€£ç·šæˆåŠŸï¼æº–å‚™ç™»å…¥...');
            // 5. é€£ç·šæˆåŠŸå¾Œï¼ŒåŸ·è¡Œç™»å…¥
            this.mySDK.login();
        } else {
            console.error('SDK é€£ç·šå¤±æ•—ï¼');
            // è™•ç†é€£ç·šå¤±æ•—çš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯çµ¦ç©å®¶
        }
    }

    private onConnectionLost(detail: GSM.IConnectionLost): void {
        console.warn('SDK é€£ç·šä¸­æ–·ï¼åŸå› :', detail.reason);
        // è™•ç†é€£ç·šä¸­æ–·çš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºæ–·ç·šè¨Šæ¯ï¼Œä¸¦å˜—è©¦é‡æ–°é€£ç·š
        // this.mySDK.reconnect(); // å¦‚æœéœ€è¦è‡ªå‹•é‡é€£
    }

    private onLogin(data: GSM.ILogin): void {
        if (data.code === 0 && data.data) {
            console.log('ç©å®¶ç™»å…¥æˆåŠŸï¼ç©å®¶è³‡è¨Š:', data.entity);
            console.log('ç•¶å‰é¤˜é¡:', data.entity.balance); // å‡è¨­ç™»å…¥å›æ‡‰ä¸­åŒ…å«é¤˜é¡
            // 6. ç™»å…¥æˆåŠŸå¾Œï¼Œç™¼é€éŠæˆ²åˆå§‹åŒ–æŒ‡ä»¤
            this.mySDK.send(GSM.Request.Init, { commandType: GSM.Command.Init });
        } else {
            console.error('ç©å®¶ç™»å…¥å¤±æ•—ï¼è¨Šæ¯:', data.message, 'éŒ¯èª¤ç¢¼:', data.code);
        }
    }

    private onLoginError(error: GSM.ILoginError): void {
        console.error('ç™»å…¥éŒ¯èª¤ï¼éŒ¯èª¤è¨Šæ¯:', error.errorMessage, 'éŒ¯èª¤ç¢¼:', error.errorCode);
        // è™•ç†ç™»å…¥éŒ¯èª¤çš„é‚è¼¯
    }

    private onCommand(data: GSM.ICommand): void {
        console.log('æ”¶åˆ°æŒ‡ä»¤å›æ‡‰:', data.cmd, 'å…§å®¹:', data.entity);
        switch (data.cmd) {
            case 'h5.initResponse':
                console.log('éŠæˆ²åˆå§‹åŒ–å®Œæˆï¼');
                // éŠæˆ²åˆå§‹åŒ–å®Œæˆå¾Œçš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºéŠæˆ²ç•«é¢
                break;
            case 'h5.spinResponse':
                console.log('æ”¶åˆ° Spin çµæœ:', data.entity.spinResult);
                // è™•ç† Spin çµæœï¼Œä¾‹å¦‚æ’­æ”¾å‹•ç•«
                break;
            case 'h5.settlePlayResponse':
                console.log('æ”¶åˆ° Settle çµæœ:', data.entity.balance);
                // è™•ç† Settle çµæœï¼Œä¾‹å¦‚æ›´æ–°é¤˜é¡é¡¯ç¤º
                break;
            // ... è™•ç†å…¶ä»–æŒ‡ä»¤å›æ‡‰
            default:
                console.log('æœªçŸ¥æŒ‡ä»¤å›æ‡‰:', data.cmd);
                break;
        }
    }

    private onError(error: GSM.IError): void {
        console.error('SDK éŒ¯èª¤ï¼', error.entity.message, 'éŒ¯èª¤ç¢¼:', error.entity.code);
        if (error.isForceDisconnect) {
            console.error('éŒ¯èª¤å°è‡´å¼·åˆ¶æ–·ç·šï¼');
            // è™•ç†å¼·åˆ¶æ–·ç·šçš„é‚è¼¯
        }
    }

    private onBalance(data: GSM.IBalance): void {
        console.log('é¤˜é¡æ›´æ–°ï¼æ–°é¤˜é¡:', data.balance, 'æ™‚é–“æˆ³:', data.ts);
        // æ›´æ–°éŠæˆ²ä¸­çš„é¤˜é¡é¡¯ç¤º
    }

    private onJackpot(data: GSM.IJackpot): void {
        console.log('æ”¶åˆ° Jackpot è¨Šæ¯:', data);
        // è™•ç† Jackpot è¨Šæ¯ï¼Œä¾‹å¦‚æ›´æ–°å½©é‡‘æ± é¡¯ç¤ºæˆ–æ’­æ”¾ä¸­çå‹•ç•«
    }

    // ç¯„ä¾‹ï¼šç™¼é€ä¸€å€‹ Spin è«‹æ±‚
    public sendSpinRequest(betAmount: number, denom: number): void {
        if (this.mySDK.isConnected()) {
            const spinPayload = {
                commandType: GSM.Command.Spin,
                entity: {
                    operation: 'NormalSpin', // æˆ–å…¶ä»–æ“ä½œé¡å‹
                    playerBet: betAmount,
                    denom: denom,
                    // ... å…¶ä»– Spin ç›¸é—œåƒæ•¸
                }
            };
            this.mySDK.send(GSM.Request.Spin, spinPayload);
            console.log('ç™¼é€ Spin è«‹æ±‚...');
        } else {
            console.warn('SDK æœªé€£ç·šï¼Œç„¡æ³•ç™¼é€ Spin è«‹æ±‚ã€‚');
        }
    }

    // ç¯„ä¾‹ï¼šç™¼é€ä¸€å€‹ Settle è«‹æ±‚
    public sendSettleRequest(gameSeqNo: string): void {
        if (this.mySDK.isConnected()) {
            const settlePayload = {
                commandType: GSM.Command.Settle,
                entity: {
                    gameSeqNo: gameSeqNo,
                }
            };
            this.mySDK.send(GSM.Request.Settle, settlePayload);
            console.log('ç™¼é€ Settle è«‹æ±‚...');
        } else {
            console.warn('SDK æœªé€£ç·šï¼Œç„¡æ³•ç™¼é€ Settle è«‹æ±‚ã€‚');
        }
    }
}

// åœ¨æ‚¨çš„éŠæˆ²å•Ÿå‹•æ™‚å‰µå»º GameClient å¯¦ä¾‹
// const game = new GameClient();
// ä¹‹å¾Œæ‚¨å¯ä»¥é€é game å¯¦ä¾‹ä¾†è§¸ç™¼éŠæˆ²æ“ä½œï¼Œä¾‹å¦‚ï¼š
// game.sendSpinRequest(100, 1);</code></pre>
                            <button class="copy-btn">è¤‡è£½</button>
                        </div>

                        <h3 class="text-xl font-bold text-slate-200 my-4">6.3 æœ€ä½³å¯¦è¸èˆ‡æ³¨æ„äº‹é …</h3>
                        <ul class="list-disc list-inside text-slate-200 space-y-2">
                            <li><b>éŒ¯èª¤è™•ç†</b>ï¼šå‹™å¿…ç›£è½ <code>GSM.Event.Error</code> å’Œ <code>GSM.Event.ConnectionLost</code> äº‹ä»¶ï¼Œä¸¦å¯¦ä½œé©ç•¶çš„éŒ¯èª¤è™•ç†å’Œé‡é€£é‚è¼¯ï¼Œä»¥æå‡éŠæˆ²çš„ç©©å®šæ€§ã€‚</li>
                            <li><b>ç”Ÿå‘½é€±æœŸç®¡ç†</b>ï¼šç¢ºä¿åœ¨éŠæˆ²é—œé–‰æˆ–åˆ‡æ›å ´æ™¯æ™‚ï¼Œæ­£ç¢ºå‘¼å« <code>mySDK.disconnect()</code> ä»¥é‡‹æ”¾è³‡æºã€‚</li>
                            <li><b>é…ç½®ç®¡ç†</b>ï¼šå°‡ SDK çš„é…ç½®åƒæ•¸ï¼ˆå¦‚ <code>host</code>, <code>port</code>, <code>apiKey</code> ç­‰ï¼‰å¾ç¨‹å¼ç¢¼ä¸­åˆ†é›¢å‡ºä¾†ï¼Œä¾‹å¦‚å„²å­˜åœ¨é…ç½®æ–‡ä»¶æˆ–ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œä»¥ä¾¿æ–¼ä¸åŒç’°å¢ƒçš„éƒ¨ç½²å’Œç®¡ç†ã€‚</li>
                            <li><b>éåŒæ­¥æ“ä½œ</b>ï¼šSDK çš„é€£ç·šå’Œè«‹æ±‚ç™¼é€éƒ½æ˜¯éåŒæ­¥æ“ä½œï¼Œè«‹ç¢ºä¿æ‚¨çš„éŠæˆ²é‚è¼¯èƒ½å¤ æ­£ç¢ºè™•ç†éåŒæ­¥å›èª¿ã€‚</li>
                            <li><b>æ—¥èªŒè¨˜éŒ„</b>ï¼šåœ¨é–‹ç™¼å’Œæ¸¬è©¦éšæ®µï¼Œé–‹å•Ÿè©³ç´°çš„æ—¥èªŒè¨˜éŒ„ï¼Œæœ‰åŠ©æ–¼è¨ºæ–·å•é¡Œã€‚åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ï¼Œå‰‡æ‡‰èª¿æ•´æ—¥èªŒç´šåˆ¥ä»¥é¿å…éå¤šè¼¸å‡ºã€‚</li>
                            <li><b>æ•ˆèƒ½è€ƒé‡</b>ï¼šå°æ–¼é«˜é »ç‡çš„æ“ä½œï¼ˆå¦‚ Spinï¼‰ï¼Œæ‡‰æ³¨æ„è«‹æ±‚çš„é »ç‡å’Œæ•¸æ“šé‡ï¼Œé¿å…é€ æˆä¼ºæœå™¨æˆ–å®¢æˆ¶ç«¯çš„è² æ“”ã€‚</li>
                        </ul>
                    </div>
                </section>

                <!-- Error Codes Section -->
                <section id="errors" class="content-section">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">éŒ¯èª¤ç¢¼åƒè€ƒ</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æœ¬ç¯€è©³ç´°èªªæ˜äº† SDK å¯èƒ½å›å‚³çš„éŒ¯èª¤ç¢¼ï¼Œå¹«åŠ©æ‚¨å¿«é€Ÿå®šä½å’Œè§£æ±ºå•é¡Œã€‚</p>
                        <div class="space-y-4">
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.DISCONNECT (1)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šé€£ç·šå·²æ–·é–‹</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.CONNECT_FAIL (4)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šä¸€é–‹å§‹çš„é€£ç·šå¤±æ•—</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.SUBSCRIPTION_WITHOUT_CONNECT (901)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šæœªé€£ç·šä¾¿è¨‚é–±</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.DUPLICATE_SUBSCRIPTION (902)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šé‡è¤‡è¨‚é–±</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.SUBSCRIPTION_JACKPOT_ERROR (903)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šå½©é‡‘è¨‚é–±å¤±æ•—</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">Code.BROADCAST_FAIL (904)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šå»£æ’­ç™¼ç”Ÿå•é¡Œ</p>
                            </div>
                            <div class="bg-slate-700/50 p-4 rounded-lg border border-slate-700">
                                <h3 class="font-bold text-slate-200">å…¶ä»–éŒ¯èª¤ç¢¼ (ä¾†è‡ªä¼ºæœå™¨)</h3>
                                <p class="text-base text-slate-300"><b>æè¿°</b>ï¼šç•¶ `GSM.Event.Error` äº‹ä»¶è§¸ç™¼æ™‚ï¼Œ`IError.entity.code` æœƒåŒ…å«ä¾†è‡ªä¼ºæœå™¨çš„å…·é«”éŒ¯èª¤ç¢¼ã€‚</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Release Notes Section -->
                <section id="releases" class="content-section">
                    <div class="bg-slate-800 p-6 sm:p-8 rounded-lg border border-slate-700">
                        <h2 class="text-2xl font-bold text-teal-400 mb-2">ç™¼å¸ƒèªªæ˜</h2>
                        <p class="text-slate-400 leading-relaxed mb-6">æ­¤è™•è¨˜éŒ„äº† SDK çš„ç‰ˆæœ¬æ­·å²ã€æ–°åŠŸèƒ½ã€æ”¹é€²å’ŒéŒ¯èª¤ä¿®å¾©ã€‚</p>
                        <div id="release-notes-container" class="space-y-8">
                            <!-- Release notes will be dynamically inserted here -->
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const apiList = document.getElementById('api-list');
            const apiDetail = document.getElementById('api-detail');
            const releaseNotesContainer = document.getElementById('release-notes-container');

            const apiData = {
                'GSMMiddleware(config: IConfig)':{
                    name: 'GSMMiddleware(config: IConfig)',
                    desc: 'SDK çš„å»ºæ§‹å‡½å¼ï¼Œç”¨æ–¼åˆå§‹åŒ– SDK ä¸¦è¼‰å…¥å¿…è¦çš„é…ç½®ã€‚é€™æ˜¯ä½¿ç”¨ SDK çš„ç¬¬ä¸€æ­¥ã€‚',
                    params:[
                        { name: 'config: IConfig', desc: 'åŒ…å«ä¼ºæœå™¨é€£ç·šè³‡è¨Šã€ç©å®¶ ID ç­‰çš„é…ç½®ç‰©ä»¶ã€‚' },
                        { name: 'host?: string', desc: 'ä¼ºæœå™¨ä¸»æ©Ÿä½å€ã€‚' },
                        { name: 'port?: number', desc: 'ä¼ºæœå™¨ç«¯å£ã€‚' },
                        { name: 'uidA?: string', desc: 'ç©å®¶çš„å”¯ä¸€è­˜åˆ¥ç¢¼ã€‚' },
                        { name: 'userName?: string', desc: 'ç©å®¶åç¨±ã€‚' },
                        { name: 'jackpotGroup?: string', desc: 'å½©é‡‘ç¾¤çµ„è­˜åˆ¥ç¢¼ã€‚' },
                        { name: 'gameType?: number', desc: 'éŠæˆ²é¡å‹ IDã€‚' },
                        { name: 'gameId?: number', desc: 'éŠæˆ² IDã€‚' },
                        { name: 'gameLoginName?: string', desc: 'éŠæˆ²ç™»å…¥åç¨±ï¼Œç”¨æ–¼åˆ¤æ–·æ¸¬è©¦æˆ–æ­£å¼ç™»å…¥ã€‚' },
                        { name: 'sessionID3?: string', desc: 'Game Severæ‰€ä½¿ç”¨çš„å…§å®¹ã€‚' },
                    ],
                    returns: 'ç„¡ã€‚',
                    example: `import { GSMiddleware, GSM } from "./index.js";\n\nconst config = {\n  host: 'your-game-server.com',\n  port: 8080,\n  uidA: 'player123',\n  gameLoginName: 'gameLogin',\n  sessionID3: 'your-session-id',\n  gameType: 1,\n  gameId: 1001,\n  jackpotGroup: 'groupA'\n};\nconst mySDK = new GSMiddleware(config);`
                },
                'connect': {
                    name: 'connect(): void',
                    desc: 'å»ºç«‹èˆ‡éŠæˆ²ä¼ºæœå™¨ä¹‹é–“çš„ WebSocket + STOMP é€£ç·šã€‚é€£ç·šæˆåŠŸæˆ–å¤±æ•—æœƒé€éäº‹ä»¶é€šçŸ¥ã€‚',
                    params: [],
                    returns: 'ç„¡ã€‚',
                    example: `mySDK.addEventListener(GSM.Event.Connection, (detail) => {\n  if (detail.success) {\n    console.log('é€£ç·šæˆåŠŸï¼');\n  } else {\n    console.log('é€£ç·šå¤±æ•—ï¼');\n  }\n});\nmySDK.connect();`
                },
                'disconnect': {
                    name: 'disconnect(): void',
                    desc: 'ä¸»å‹•æ–·é–‹èˆ‡ä¼ºæœå™¨çš„é€£ç·šï¼Œä¸¦å–æ¶ˆæ‰€æœ‰è¨‚é–±ã€‚',
                    params: [],
                    example: `// åœ¨éŠæˆ²é—œé–‰æˆ–å ´æ™¯åˆ‡æ›æ™‚å‘¼å«\nmySDK.disconnect();`
                },
                'reconnect': {
                    name: 'reconnect(): Promise<void>',
                    desc: 'ç•¶é€£ç·šä¸­æ–·æ™‚ï¼Œå˜—è©¦é‡æ–°å»ºç«‹é€£ç·šã€‚SDK æœƒè‡ªå‹•é‡è©¦æœ€å¤š 3 æ¬¡ï¼Œæ¯æ¬¡é–“éš” 5 ç§’ã€‚',
                    params: [],
                    example: `mySDK.addEventListener(GSM.Event.ConnectionLost, () => {\n  console.log('é€£ç·šä¸­æ–·ï¼Œå˜—è©¦é‡æ–°é€£ç·š...');\n  mySDK.reconnect();\n});`
                },
                'isConnected': {
                    name: 'isConnected(): boolean',
                    desc: 'æª¢æŸ¥ç•¶å‰ SDK æ˜¯å¦å·²æˆåŠŸé€£ç·šåˆ°ä¼ºæœå™¨ã€‚',
                    params: [],
                    example: `if (mySDK.isConnected()) {\n  console.log('SDK å·²é€£ç·š');\n} else {\n  console.log('SDK æœªé€£ç·š');\n}`
                },
                'login': {
                    name: 'login(): void',
                    desc: 'å‘ä¼ºæœå™¨ç™¼é€ç©å®¶ç™»å…¥è«‹æ±‚ã€‚æ ¹æ“šé…ç½®ä¸­çš„ `gameLoginName` åˆ¤æ–·æ˜¯æ¸¬è©¦ç™»å…¥é‚„æ˜¯æ­£å¼ç™»å…¥ã€‚',
                    params: [],
                    example: `mySDK.addEventListener(GSM.Event.Login, (data) => console.log('ç™»å…¥æˆåŠŸ:', data));\nmySDK.addEventListener(GSM.Event.LoginError, (error) => console.error('ç™»å…¥å¤±æ•—:', error));\nmySDK.login();`
                },
                send: {
                    name: 'send(reqName: GSM.Request, body: any, headers?: StompHeaders): void',
                    desc: 'å‘ä¼ºæœå™¨ç™¼é€é€šç”¨è«‹æ±‚ã€‚ç”¨æ–¼ç™¼é€éŠæˆ²æŒ‡ä»¤ï¼Œä¾‹å¦‚ Spin, Settle, Init, SetRNG ç­‰ã€‚',
                    params: [
                        { name: 'reqName', type: 'GSM.Request', desc: 'è«‹æ±‚çš„ç›®çš„åœ°æˆ–é¡å‹ã€‚å¯é¸å€¼ï¼š`GSM.Request.Login`, `GSM.Request.TestLogin`, `GSM.Request.Init`, `GSM.Request.Spin`, `GSM.Request.Settle`, `GSM.Request.SetRng`, `GSM.Request.Heartbeat`ã€‚' },
                        { name: 'body', type: 'any', desc: 'è«‹æ±‚çš„è³‡æ–™å…§å®¹ã€‚å…¶çµæ§‹å–æ±ºæ–¼ `reqName`ã€‚' },
                        { name: 'headers', type: 'StompHeaders?', desc: 'å¯é¸çš„ STOMP æ¨™é ­ã€‚' }
                    ],
                    bodyDetails: `
                        <p class="text-sm text-slate-300 mt-2"><b>` + "`GSM.Request.Spin` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Spin,
  entity: {
    operation: string; // ä¾‹å¦‚ 'NormalSpin'
    playerBet: number; // ç©å®¶ä¸‹æ³¨é‡‘é¡
    denom: number;     // è²¨å¹£å–®ä½
    freeGameCard?: string; // å…è²»éŠæˆ²å¡ ID (å¯é¸)
    freeSpinCard?: string; // å…è²»æ—‹è½‰å¡ ID (å¯é¸)
    // ... å…¶ä»–èˆ‡ Spin ç›¸é—œçš„åƒæ•¸
  }
}</code></pre>
                        <p class="text-sm text-slate-300 mt-4"><b>` + "`GSM.Request.Init` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Init,
  entity: {} // é€šå¸¸ç‚ºç©ºç‰©ä»¶(ä¸ç”¨å¸¶å…¥)
}</code></pre>
                        <p class="text-sm text-slate-300 mt-4"><b>` + "`GSM.Request.Settle` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Settle,
  entity: object {
    playerID: string; // ç©å®¶ID
    sessionID: string; // session
    gameSeqNo: string; // éŠæˆ²å±€è™Ÿ
  }
}</code></pre>
                        <p class="text-sm text-slate-300 mt-4"><b>` + "`GSM.Request.SetRng` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.SetRng,
  entity: object {
    rng: number[]; // SetRng çš„åƒæ•¸
  }
}</code></pre>
                    `,
                    example: `const spinPayload = {\n  commandType: GSM.Command.Spin,\n  entity: {\n    playerBet: 100,\n    denom: 1,\n    //... å…¶ä»–èˆ‡ Spin ç›¸é—œçš„åƒæ•¸\n  }\n};\nmySDK.send(GSM.Request.Spin, spinPayload);`
                },
                addEventListener: {
                    name: 'addEventListener(eventName: string, callback: Function, context?: any): void',
                    desc: 'è¨»å†Šä¸€å€‹äº‹ä»¶ç›£è½å™¨ï¼Œä»¥æ¥æ”¶ä¾†è‡ª SDK æˆ–ä¼ºæœå™¨çš„é€šçŸ¥ã€‚',
                    params: [
                        { name: 'eventName', type: 'string', desc: 'è¦ç›£è½çš„äº‹ä»¶åç¨±ã€‚å¯é¸å€¼ï¼š`GSM.Event.Connection`, `GSM.Event.ConnectionLost`, `GSM.Event.Login`, `GSM.Event.LoginError`, `GSM.Event.Command`, `GSM.Event.Jackpot`, `GSM.Event.Balance`, `GSM.Event.Maintenance`, `GSM.Event.Error`ã€‚' },
                        { name: 'callback', type: 'Function', desc: 'äº‹ä»¶è§¸ç™¼æ™‚åŸ·è¡Œçš„å›å‘¼å‡½å¼ï¼Œæœƒæ¥æ”¶äº‹ä»¶è©³æƒ…ä½œç‚ºåƒæ•¸ã€‚' },
                        { name: 'context', type: 'any?', desc: 'å¯é¸çš„å›å‘¼å‡½å¼åŸ·è¡Œçš„ä¸Šä¸‹æ–‡ (`this`)ã€‚' }
                    ],
                    callbackDetails: `
                        <p class="text-sm text-slate-300 mt-2"><b>` + "`ILogin` çš„ `entity` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>interface ILogin {
  cdoe: number;    // ç™»å…¥å›å‚³ä»£ç¢¼
  data: boolean;   // æ˜¯å¦æˆåŠŸç™»å…¥
  entity: any;     // ç™»å…¥çš„è³‡æ–™å…§å®¹
  message: string; // ç™»å…¥å›æ‡‰çš„è¨Šæ¯
  ts: number;      // æ™‚é–“æˆ³è¨˜
}</code></pre>
                        <p class="text-sm text-slate-300 mt-4"><b>` + "`ICommand` çš„ `entity` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-gray-700/70 text-white p-3 rounded-lg text-xs overflow-x-auto"><code>
interface ICommand {
  cmd: string;  // å›æ‡‰çš„è¨Šæ¯æ¨™é ­
  code: string; // å›æ‡‰ä»£ç¢¼
  entity: and;  // å›æ‡‰çš„å…§å®¹
}</code></pre>
                    `,
                    example: `mySDK.addEventListener(GSM.Event.Balance, (evtParams: any) => {\n  console.log('æ–°é¤˜é¡: ' + data.balance);\n  this.sendNotification(evtParams.cmd, evtParams);\n}, this);`
                },
                removeEventListener: {
                    name: 'removeEventListener(eventName: string, callback: Function): void',
                    desc: 'ç§»é™¤å…ˆå‰è¨»å†Šçš„äº‹ä»¶ç›£è½å™¨ã€‚',
                    params: [
                        { name: 'eventName', type: 'string', desc: 'è¦ç§»é™¤ç›£è½çš„äº‹ä»¶åç¨±ã€‚' },
                        { name: 'callback', type: 'Function', desc: 'è¦ç§»é™¤çš„å›å‘¼å‡½å¼ã€‚' }
                    ],
                    example: `const myBalanceHandler = (data) => {};\nmySDK.addEventListener(GSM.Event.Balance, myBalanceHandler, this);\n\n// ... ç¨å¾Œç§»é™¤\nmySDK.removeEventListener(GSM.Event.Balance, myBalanceHandler);`
                }
            };

            const releaseNotesData = [
                {
                    version: "0.0.4",
                    date: "2025-08-05",
                    changes: [
                        { type: "improvement", text: "èª¿æ•´é‡é€£åˆ¤æ–·æ™‚é–“ï¼Œæ”¹ç‚º35ç§’" }
                    ]
                },
                {
                    version: "0.0.3",
                    date: "2025-07-03",
                    changes: [
                        { type: "feature", text: "æ–°å¢å®Œæ•´çš„æ–·ç·šèˆ‡é‡æ–°é€£ç·šæµç¨‹ï¼ŒåŒ…å«è‡ªå‹•é‡è©¦æ©Ÿåˆ¶ã€‚" },
                        { type: "feature", text: "æ–°å¢ `SetRNG` åŠŸèƒ½ï¼Œå…è¨±å®¢æˆ¶ç«¯è¨­å®šäº‚æ•¸ç¨®å­ã€‚" },
                        { type: "feature", text: "æ–°å¢ `HeartBeat` äº‹ä»¶ï¼Œç”¨æ–¼ç¶­æŒé€£ç·šã€‚" },
                        { type: "improvement", text: "Spin è«‹æ±‚æ–°å¢ `freeGameCard` èˆ‡ `freeSpinCard` åŠŸèƒ½ç¯„ä¾‹ã€‚" },
                        { type: "improvement", text: "èª¿æ•´æ‰“åŒ…è¼¸å‡ºï¼Œ`dist` ç›®éŒ„ç¾åœ¨åªåŒ…å« `index.js` å’Œ `index.d.ts`ã€‚" }
                    ]
                },
                {
                    version: "0.0.2",
                    date: "2025-05-16",
                    changes: [
                        { type: "improvement", text: "`SettlePlay` è«‹æ±‚ä¸å†æ”œå¸¶ `playerID` åŠ `sessionID`ï¼Œç°¡åŒ–è«‹æ±‚åƒæ•¸ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Change Balance` åŠŸèƒ½ï¼Œä¼ºæœå™¨å¯ä¸»å‹•æ¨æ’­é¤˜é¡è®Šæ›´ã€‚" },
                        { type: "feature", text: "æ–°å¢å®Œæ•´çš„ `Jackpot` æµç¨‹ï¼ŒåŒ…å«å½©é‡‘æ± æ›´æ–°èˆ‡ä¸­çè€…æ¨æ’­ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Maintenance` æµç¨‹ï¼Œç”¨æ–¼è™•ç†ä¼ºæœå™¨ç¶­è­·ç‹€æ…‹ã€‚" }
                    ]
                },
                {
                    version: "0.0.1",
                    date: "2025-04-15",
                    changes: [
                        { type: "feature", text: "æ–°å¢ `Error` æµç¨‹ï¼Œç”¨æ–¼è™•ç†ä¼ºæœå™¨ç«¯éŒ¯èª¤ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Spin` å’Œ `Settle` æ ¸å¿ƒéŠæˆ²æµç¨‹ã€‚" },
                        { type: "improvement", text: "çµ±ä¸€èª¿æ•´å°ˆæ¡ˆå…§çš„æ‰€æœ‰åè©ï¼Œä½¿å…¶æ›´å…·ä¸€è‡´æ€§ã€‚" },
                        { type: "initial", text: "SDK åˆç‰ˆç™¼å¸ƒï¼ŒåŒ…å«åŸºæœ¬çš„é€£ç·šã€ç™»å…¥å’Œäº‹ä»¶è™•ç†åŠŸèƒ½ã€‚" }
                    ]
                }
            ];

            // é ç±¤åˆ‡æ›é‚è¼¯
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');

                    navLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');

                    contentSections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                });
            });

            // æ¸²æŸ“ API åˆ—è¡¨å’Œè©³ç´°å…§å®¹
            function renderApiDetail(key) {
                const item = apiData[key];
                if (!item) return;
                let paramsHtml = '<p class="text-slate-400">ç„¡åƒæ•¸ã€‚</p>';
                if (item.params.length > 0) {
                    paramsHtml = item.params.map(p => `
                        <div class="flex items-start">
                            <code class="text-sm bg-gray-900 text-white-600 px-2 py-1 rounded">${p.name}</code>
                            <span class="text-sm text-zinc-300 mx-2">${p.type}</span>
                            <p class="text-sm text-zinc-400 flex-1">${p.desc}</p>
                        </div>
                    `).join('<div class="my-2 border-b border-stone-200"></div>');
                }
                apiDetail.innerHTML = `
                    <div class="space-y-4">
                        <h3 class="text-xl font-bold text-slate-200">${item.name}</h3>
                        <p class="text-slate-400">${item.desc}</p>
                        <div>
                            <h4 class="font-semibold text-slate-300">åƒæ•¸ï¼š</h4>
                            <div class="space-y-3 mt-3 mb-6">${paramsHtml}</div>
                        </div>
                        ${item.bodyDetails ? `<h4 class="font-bold text-slate-300 mb-3">` + "`body` åƒæ•¸çµæ§‹è©³æƒ…</h4>" + `<div class="mb-6">${item.bodyDetails}</div>` : ''}
                        ${item.callbackDetails ? `<h4 class="font-bold text-slate-300 mb-3">` + "`callback` åƒæ•¸è©³æƒ…</h4>" + `<div class="mb-6">${item.callbackDetails}</div>` : ''}
                        <div>
                            <h4 class="font-semibold text-slate-300">ç¯„ä¾‹ï¼š</h4>
                            <div class="code-block-wrapper mt-2">
                                <pre class="bg-slate-900/70 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>${item.example}</code></pre>
                                <button class="copy-btn">è¤‡è£½</button>
                            </div>
                        </div>
                    </div>
                `;
                addCopyListeners();
            }

            function initApiReference() {
                if (!apiList) return;
                apiList.innerHTML = '';
                Object.keys(apiData).forEach((key, index) => {
                    const item = document.createElement('li');
                    item.innerHTML = `<a href="#" class="api-list-item block p-3 text-sm text-slate-300 hover:bg-slate-700/50" data-key="${key}">${apiData[key].name}</a>`;
                    apiList.appendChild(item);

                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.querySelectorAll('#api-list .api-list-item').forEach(el => el.classList.remove('active'));
                        e.target.classList.add('active');
                        renderApiDetail(key);
                    });
                    
                    if (index === 0) {
                        item.querySelector('a').classList.add('active');
                        renderApiDetail(key);
                    }
                });
            }

            // æ¸²æŸ“ç™¼å¸ƒèªªæ˜
            function renderReleaseNotes() {
                if (!releaseNotesContainer) return;
                const tagClasses = {
                    feature: 'tag-feature',
                    improvement: 'tag-improvement',
                    initial: 'tag-initial'
                };
                releaseNotesContainer.innerHTML = releaseNotesData.map(note => `
                    <div class="relative">
                        <div class="absolute left-0 h-full w-0.5 bg-slate-700"></div>
                        <div class="pl-6 relative">
                            <div class="absolute left-[-6px] top-1 w-3 h-3 bg-teal-500 rounded-full"></div>
                            <p class="text-sm text-slate-500">${note.date}</p>
                            <h3 class="text-lg font-bold text-slate-200">${note.version}</h3>
                            <ul class="mt-2 space-y-1">
                                ${note.changes.map(change => `
                                    <li class="flex items-center">
                                        <span class="release-tag mr-2 tag-${change.type}">${change.type === 'feature' ? 'âœ¨ æ–°åŠŸèƒ½' : change.type === 'improvement' ? 'ğŸš€ æ”¹é€²' : 'ğŸ‰ åˆå§‹ç‰ˆæœ¬'}</span>
                                        <span class="ml-3 text-slate-300 text-sm">${change.text}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                `).join('');
            }

            // è¤‡è£½æŒ‰éˆ•åŠŸèƒ½
            function addCopyListeners() {
                document.querySelectorAll('.copy-btn').forEach(button => {
                    // é˜²æ­¢é‡è¤‡ç¶å®š
                    if (button.dataset.listenerAttached) return;
                    button.dataset.listenerAttached = 'true';

                    button.addEventListener('click', () => {
                        const pre = button.previousElementSibling;
                        const code = pre.querySelector('code');
                        const text = code.innerText;
                        
                        const textArea = document.createElement('textarea');
                        textArea.value = text;
                        document.body.appendChild(textArea);
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            button.innerText = 'å·²è¤‡è£½!';
                            setTimeout(() => { button.innerText = 'è¤‡è£½'; }, 2000);
                        } catch (err) {
                            console.error('ç„¡æ³•è¤‡è£½æ–‡å­—: ', err);
                        }
                        document.body.removeChild(textArea);
                    });
                });
            }

            // åˆå§‹æ¸²æŸ“
            initApiReference();
            renderReleaseNotes();
            addCopyListeners();
        });
    </script>
</body>
</html>
