<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éŠæˆ²ä¸­ä»‹å·¥å…· SDK æ–‡ä»¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        <!-- Chosen Palette: Stone & Teal -->
        <!-- Application Structure Plan: A tab-based SPA with a sticky top navigation bar (ç¸½è¦½, æ ¸å¿ƒæ¶æ§‹, API åƒè€ƒ, æ ¸å¿ƒæµç¨‹, ç’°å¢ƒå»ºç½®, æ•´åˆæŒ‡å—, ç™¼å¸ƒèªªæ˜, éŒ¯èª¤ç¢¼). This structure is chosen because developers often need to access specific information non-linearly (e.g., quickly looking up an API or an error code). A tabbed interface provides this random access efficiently. Key interactions include tab switching for main content, a master-detail view for the API reference, and interactive HTML-based flowcharts to visualize processes without relying on external libraries. This design prioritizes developer workflow and information retrieval speed over the linear narrative of the source document. -->
        <!-- Visualization & Content Choices: Report Info: Core Architecture -> Goal: Organize -> Viz: Icon-based cards -> Justification: Visually separates and clarifies the role of each module. | Report Info: API List -> Goal: Inform/Organize -> Viz: Interactive Master-Detail List -> Interaction: Click to view details, copy code -> Justification: The most efficient UI pattern for reference documentation, allowing for quick lookups and direct use of examples. | Report Info: Core Flows -> Goal: Change/Organize -> Viz: HTML/CSS-based flow diagrams with numbered steps -> Justification: Recreates flowchart visuals without SVG/Mermaid, making complex processes more tangible and understandable with clear sequencing. | Report Info: Environment Setup & Integration -> Goal: Inform/Instruct -> Viz: Numbered lists with code blocks -> Interaction: Copy-to-clipboard buttons -> Justification: Directly improves developer workflow by making instructions and code snippets easily usable. | Report Info: Release Notes -> Goal: Change -> Viz: Timeline-style list with color-coded tags -> Justification: Makes version changes scannable and easy to digest. | Report Info: Error Codes -> Goal: Inform/Troubleshoot -> Viz: Definition list with detailed explanations -> Justification: Provides quick access to troubleshooting information. -->
        <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #292524; /* stone-800 */
        }
        .nav-link {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link.active, .nav-link:hover {
            border-bottom-color: #0d9488; /* teal-600 */
            color: #0f766e; /* teal-700 */
        }
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .content-section.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .api-list-item.active {
            background-color: #ccfbf1; /* teal-100 */
            color: #134e4a; /* teal-900 */
            font-weight: 500;
        }
        .flowchart-wrapper {
            background: repeating-linear-gradient(45deg, #fafaf9, #fafaf9 10px, #f5f5f4 10px, #f5f5f4 20px);
            padding: 2rem;
            border-radius: 0.5rem;
            border: 1px solid #e7e5e4;
            overflow-x: auto;
        }
        .flow-step {
            border: 1px solid #a8a29e;
            background-color: #ffffff;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            text-align: center;
            min-width: 180px;
            z-index: 10;
            position: relative;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .flow-step:hover {
            border-color: #0d9488;
            box-shadow: 0 6px 15px rgba(0,0,0,0.1);
            transform: translateY(-3px);
        }
        .flow-arrow {
            position: relative;
            width: 2px;
            height: 40px; /* Space between steps */
            background-color: #a8a29e;
            margin: 0 auto;
            z-index: 1;
        }
        .flow-arrow::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 8px solid #a8a29e;
        }
        .release-tag {
            font-size: 0.75rem;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-weight: 500;
        }
        .tag-feature { background-color: #dcfce7; color: #166534; }
        .tag-improvement { background-color: #dbeafe; color: #1e40af; }
        .tag-initial { background-color: #e0e7ff; color: #3730a3; }
        .code-block-wrapper {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #44403c; /* stone-700 */
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        .copy-btn:hover {
            background-color: #57534e; /* stone-600 */
        }
    </style>
</head>
<body class="antialiased">

    <div class="min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow-sm sticky top-0 z-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
                <h1 class="text-2xl sm:text-3xl font-bold text-stone-800">éŠæˆ²ä¸­ä»‹å·¥å…· SDK æ–‡ä»¶</h1>
                <p class="text-stone-500 mt-1">ä¸€ä»½å°‡æŠ€è¡“æ–‡ä»¶è½‰åŒ–ç‚ºå‹•æ…‹é«”é©—çš„æŒ‡å—</p>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="bg-white border-b border-stone-200 sticky top-[85px] sm:top-[93px] z-20">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex flex-wrap -mb-px">
                    <a href="#" class="nav-link active py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="overview">ç¸½è¦½</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="architecture">æ ¸å¿ƒæ¶æ§‹</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="api">API åƒè€ƒ</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="flows">æ ¸å¿ƒæµç¨‹</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="environment">ç’°å¢ƒå»ºç½®</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="integration">æ•´åˆæŒ‡å—</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="releases">ç™¼å¸ƒèªªæ˜</a>
                    <a href="#" class="nav-link py-3 px-4 text-sm sm:text-base font-medium text-stone-600" data-target="errors">éŒ¯èª¤ç¢¼åƒè€ƒ</a>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
            
            <!-- Overview Section -->
            <section id="overview" class="content-section active">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">SDK å•†æ¥­é‚è¼¯èˆ‡åƒ¹å€¼</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">
                        æœ¬ç¯€é—¡è¿°äº†éŠæˆ²ä¸­ä»‹è»Ÿé«” SDK çš„æ ¸å¿ƒå•†æ¥­åƒ¹å€¼ã€‚å…¶ç›®æ¨™æ˜¯ä½œç‚ºé€£æ¥éŠæˆ²å‰ç«¯èˆ‡å¾Œç«¯æœå‹™çš„æ©‹æ¨‘ï¼Œå°‡è¤‡é›œçš„åº•å±¤æŠ€è¡“æŠ½è±¡åŒ–ï¼Œå¾è€Œè®“é–‹ç™¼åœ˜éšŠèƒ½å¤ å°ˆæ³¨æ–¼å‰µé€ å“è¶Šçš„éŠæˆ²é«”é©—ï¼ŒåŒæ™‚ç¢ºä¿ç”¢å“çš„ç©©å®šæ€§ã€å®‰å…¨æ€§èˆ‡å¯æ“´å±•æ€§ã€‚
                    </p>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">ğŸš€ ç°¡åŒ–é–‹ç™¼æµç¨‹</h3>
                            <p class="text-sm text-stone-600">å°è£è¤‡é›œçš„ç¶²è·¯é€šè¨Šã€è³‡æ–™è™•ç†ç­‰åº•å±¤é‚è¼¯ï¼Œè®“é–‹ç™¼è€…èƒ½å°ˆæ³¨æ–¼éŠæˆ²ç©æ³•èˆ‡ä½¿ç”¨è€…é«”é©—ï¼Œå¤§å¹…ç¸®çŸ­é–‹ç™¼é€±æœŸã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">ğŸ›¡ï¸ ç¢ºä¿è³‡æ–™ä¸€è‡´æ€§èˆ‡å®‰å…¨æ€§</h3>
                            <p class="text-sm text-stone-600">é€éæ¨™æº–åŒ–å”å®šèˆ‡éŒ¯èª¤è™•ç†ï¼Œç¢ºä¿ç©å®¶é¤˜é¡ã€éŠæˆ²çµæœç­‰äº¤æ˜“è³‡æ–™åœ¨å‚³è¼¸æ™‚çš„æº–ç¢ºæ€§èˆ‡å®Œæ•´æ€§ï¼Œé™ä½é¢¨éšªã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">ğŸ® æå‡ä½¿ç”¨è€…é«”é©—</h3>
                            <p class="text-sm text-stone-600">æ”¯æ´å¯¦æ™‚äº’å‹•ã€å…§å»ºæ–·ç·šé‡é€£æ©Ÿåˆ¶èˆ‡å³æ™‚äº‹ä»¶é€šçŸ¥ï¼Œæä¾›æµæš¢ã€ä¸ä¸­æ–·çš„éŠæˆ²é«”é©—ï¼Œå¢å¼·ç©å®¶çš„æŠ•å…¥æ„Ÿã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">ğŸ§© æ”¯æ´å¤šæ¨£åŒ–éŠæˆ²åŠŸèƒ½</h3>
                            <p class="text-sm text-stone-600">æ¨¡çµ„åŒ–è¨­è¨ˆæ˜“æ–¼æ“´å±•ï¼Œèƒ½å¿«é€Ÿæ”¯æ´æœƒè©±ç®¡ç†ã€å½©é‡‘ç³»çµ±ã€ç©å®¶è³‡ç”¢ç®¡ç†ç­‰å¤šæ¨£åŒ–çš„éŠæˆ²åŠŸèƒ½éœ€æ±‚ã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">ğŸ”§ æ˜“æ–¼ç¶­è­·èˆ‡å‡ç´š</h3>
                            <p class="text-sm text-stone-600">æ ¸å¿ƒé€šè¨Šé‚è¼¯é›†ä¸­åœ¨ SDK ä¸­ï¼Œç•¶å¾Œç«¯æœå‹™å‡ç´šæ™‚ï¼Œåƒ…éœ€æ›´æ–° SDKï¼Œå¤§å¹…æ¸›å°‘å°éŠæˆ²å®¢æˆ¶ç«¯çš„ä¿®æ”¹ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Architecture Section -->
            <section id="architecture" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">æ ¸å¿ƒæ¶æ§‹</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ SDK æ¡ç”¨æ¨¡çµ„åŒ–è¨­è¨ˆï¼Œå°‡è¤‡é›œçš„åŠŸèƒ½æ‹†è§£ç‚ºå¹¾å€‹ç¨ç«‹ä¸”å°ˆæ³¨çš„æ ¸å¿ƒæ¨¡çµ„ã€‚é€™ç¨®è¨­è¨ˆæé«˜äº†å¯ç¶­è­·æ€§èˆ‡æ“´å±•æ€§ï¼Œè®“å„å€‹éƒ¨åˆ†èƒ½é«˜æ•ˆå”åŒå·¥ä½œï¼Œç‚ºéŠæˆ²å®¢æˆ¶ç«¯æä¾›ç©©å®šä¸”é«˜æ•ˆçš„å¾Œç«¯é€šè¨Šèƒ½åŠ›ã€‚</p>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="p-5 border-l-4 border-teal-500 bg-teal-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-teal-900">`GSMiddleware.ts` (æ ¸å¿ƒ)</h3>
                            <p class="mt-1 text-sm text-teal-800">ä½œç‚º SDK çš„ä¸»è¦å…¥å£é»ï¼Œå°è£äº†æ‰€æœ‰é«˜éš APIï¼Œè™•ç†éŠæˆ²é‚è¼¯å±¤çš„è«‹æ±‚èˆ‡äº‹ä»¶åˆ†ç™¼ã€‚</p>
                        </div>
                        <div class="p-5 border-l-4 border-sky-500 bg-sky-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-sky-900">`ConnectManager.ts` (é€£ç·šç®¡ç†)</h3>
                            <p class="mt-1 text-sm text-sky-800">è² è²¬ WebSocket/STOMP é€£ç·šçš„å»ºç«‹ã€ç¶­è­·ã€æ–·ç·šåµæ¸¬ã€è‡ªå‹•é‡é€£åŠè¨Šæ¯çš„ç™¼é€èˆ‡è¨‚é–±ã€‚</p>
                        </div>
                        <div class="p-5 border-l-4 border-amber-500 bg-amber-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-amber-900">`EventHandler.ts` (äº‹ä»¶è™•ç†)</h3>
                            <p class="mt-1 text-sm text-amber-800">æä¾›å…¨å±€äº‹ä»¶ç™¼å¸ƒèˆ‡è¨‚é–±æ©Ÿåˆ¶ï¼Œç¢ºä¿ SDK å…§éƒ¨æ¨¡çµ„å’ŒéŠæˆ²å®¢æˆ¶ç«¯èƒ½é€éæ¨™æº–äº‹ä»¶é€²è¡Œé€šè¨Šã€‚</p>
                        </div>
                        <div class="p-5 border-l-4 border-red-500 bg-red-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-red-900">`MessageHandler.ts` (è¨Šæ¯è™•ç†)</h3>
                            <p class="mt-1 text-sm text-red-800">è™•ç†èˆ‡çˆ¶å®¹å™¨ (iframe) ä¹‹é–“çš„ `postMessage` é€šè¨Šï¼Œç”¨æ–¼ç‰¹æ®Šè¨Šæ¯ï¼ˆå¦‚é‡é€£ç¥¨æ“šæ›´æ–°ï¼‰ã€‚</p>
                        </div>
                        <div class="p-5 border-l-4 border-indigo-500 bg-indigo-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-indigo-900">`index.ts` (å…¥å£/å°å‡º)</h3>
                            <p class="mt-1 text-sm text-indigo-800">ä½œç‚º SDK çš„ä¸»è¦å°å‡ºæª”æ¡ˆï¼Œå®šç¾©äº†å°å¤–æš´éœ²çš„ä»‹é¢ã€å¸¸é‡å’Œé¡åˆ¥ï¼Œæ–¹ä¾¿éŠæˆ²å®¢æˆ¶ç«¯å°å…¥ã€‚</p>
                        </div>
                        <div class="p-5 border-l-4 border-purple-500 bg-purple-50 rounded-r-lg">
                            <h3 class="text-lg font-bold text-purple-900">`utils` (å·¥å…·)</h3>
                            <p class="mt-1 text-sm text-purple-800">åŒ…å«å¸¸é‡ã€ä»‹é¢å’ŒéŒ¯èª¤ä»£ç¢¼ï¼Œæä¾›çµ±ä¸€çš„æ•¸æ“šçµæ§‹å’Œé€šè¨Šè¦ç¯„ï¼Œç¢ºä¿å„æ¨¡çµ„ä¹‹é–“æ•¸æ“šçš„ä¸€è‡´æ€§ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- API Reference Section -->
            <section id="api" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">API åƒè€ƒ</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æ­¤è™•ç‚º SDK çš„è©³ç´° API æ–‡ä»¶ã€‚é»æ“Šå·¦å´åˆ—è¡¨ä¸­çš„æ–¹æ³•ä»¥æŸ¥çœ‹å…¶è©³ç´°èªªæ˜ã€åƒæ•¸å’Œç¨‹å¼ç¢¼ç¯„ä¾‹ã€‚æ‰€æœ‰ç¯„ä¾‹éƒ½æä¾›äº†ã€Œè¤‡è£½ã€æŒ‰éˆ•ï¼Œä»¥æ–¹ä¾¿æ‚¨åœ¨é–‹ç™¼ä¸­å¿«é€Ÿä½¿ç”¨ã€‚</p>
                    <div class="flex flex-col md:flex-row gap-6">
                        <div class="md:w-1/3 lg:w-1/4">
                            <ul id="api-list" class="bg-stone-50 rounded-lg border border-stone-200 overflow-hidden"></ul>
                        </div>
                        <div id="api-detail" class="md:w-2/3 lg:w-3/4 flex-1"></div>
                    </div>
                </div>
            </section>

            <!-- Flows Section -->
            <section id="flows" class="content-section">
                 <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">æ ¸å¿ƒæµç¨‹</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ç¯€é€éæ­¥é©ŸåŒ–èªªæ˜ï¼Œå¹«åŠ©æ‚¨ç†è§£ SDK çš„æ ¸å¿ƒé‹ä½œæ©Ÿåˆ¶ï¼ŒåŒ…æ‹¬åˆå§‹åŒ–é€£ç·šã€ç™»å…¥ä»¥åŠæ–·ç·šé‡é€£ç­‰é—œéµå¾ªç’°ã€‚</p>
                    
                    <h3 class="text-xl font-bold text-stone-800 mb-6 text-center">4.1 SDK åˆå§‹åŒ–èˆ‡é€£ç·šæµç¨‹</h3>
                    <div class="flowchart-wrapper flex flex-col items-center">
                        <div class="flow-step">1. éŠæˆ²å•Ÿå‹•èˆ‡ SDK å¯¦ä¾‹åŒ–</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">2. ç™¼èµ·é€£ç·šè«‹æ±‚ (mySDK.connect())</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">3. å»ºç«‹åº•å±¤é€£ç·š (WebSocket & STOMP)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">4. SDK å…§éƒ¨è¨‚é–±</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">5. é€£ç·šæˆåŠŸé€šçŸ¥ (Connection äº‹ä»¶)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">6. é€£ç·šå¤±æ•—è™•ç† (ConnectionLost äº‹ä»¶)</div>
                    </div>

                    <h3 class="text-xl font-bold text-stone-800 mb-6 mt-12 text-center">4.2 ç™»å…¥æµç¨‹</h3>
                    <div class="flowchart-wrapper flex flex-col items-center">
                        <div class="flow-step">1. ç™¼èµ·ç™»å…¥è«‹æ±‚ (mySDK.login())</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">2. åˆ¤æ–·ç™»å…¥é¡å‹ä¸¦ç™¼é€è«‹æ±‚</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">3. ä¼ºæœå™¨è™•ç†èˆ‡å›æ‡‰ (loginResponse)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">4. SDK è™•ç†å›æ‡‰èˆ‡äº‹ä»¶å»£æ’­ (Login / LoginError äº‹ä»¶)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">5. éŠæˆ²è™•ç†ç™»å…¥çµæœ</div>
                    </div>

                    <h3 class="text-xl font-bold text-stone-800 mb-6 mt-12 text-center">4.3 æ–·ç·šèˆ‡é‡æ–°é€£ç·šæµç¨‹</h3>
                    <div class="flowchart-wrapper flex flex-col items-center">
                        <div class="flow-step">1. åµæ¸¬é€£ç·šä¸­æ–· (onStompError / onDisconnect)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">2. å»£æ’­é€£ç·šä¸­æ–·äº‹ä»¶ (ConnectionLost äº‹ä»¶)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">3. éŠæˆ²è§¸ç™¼é‡é€£ (mySDK.reconnect() - å¯é¸)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">4. å•Ÿå‹•å…§éƒ¨é‡é€£æ©Ÿåˆ¶</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">5. è™•ç†é‡é€£çµæœ (Connection / Error äº‹ä»¶)</div>
                        <div class="flow-arrow"></div>
                        <div class="flow-step">6. éŠæˆ²è™•ç†å¾ŒçºŒé‚è¼¯</div>
                    </div>
                </div>
            </section>

            <!-- Environment Setup Section -->
            <section id="environment" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">ç’°å¢ƒå»ºç½®</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ç¯€å°‡èªªæ˜å¦‚ä½•ç‚ºéŠæˆ²ä¸­ä»‹è»Ÿé«” SDK å°ˆæ¡ˆè¨­ç½®é–‹ç™¼ç’°å¢ƒï¼Œä¸¦å°‡å…¶æ•´åˆåˆ°éŠæˆ²å°ˆæ¡ˆä¸­ã€‚</p>
                    
                    <h3 class="text-xl font-bold text-stone-800 mb-4">5.1 å‰ç½®æ¢ä»¶</h3>
                    <ul class="list-disc list-inside text-stone-600 space-y-2 mb-8">
                        <li><b>Node.js</b>: å»ºè­°ä½¿ç”¨ LTS (é•·æœŸæ”¯æ´) ç‰ˆæœ¬ã€‚<br>é©—è­‰å®‰è£ï¼šåœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ <code>node -v</code> å’Œ <code>npm -v</code>ã€‚</li>
                        <li><b>npm (Node Package Manager)</b> æˆ– <b>Yarn</b>: é€šå¸¸éš¨ Node.js ä¸€èµ·å®‰è£ã€‚<br>é©—è­‰å®‰è£ï¼šåœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ <code>npm -v</code> æˆ– <code>yarn -v</code>ã€‚</li>
                        <li><b>Git</b>: ç”¨æ–¼ç‰ˆæœ¬æ§åˆ¶ã€‚<br>é©—è­‰å®‰è£ï¼šåœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ <code>git --version</code>ã€‚</li>
                        <li><b>ç¨‹å¼ç¢¼ç·¨è¼¯å™¨</b>: æ¨è–¦ä½¿ç”¨ Visual Studio Codeï¼Œä¸¦å®‰è£ç›¸é—œçš„ TypeScript æ“´å……åŠŸèƒ½ã€‚</li>
                    </ul>

                    <h3 class="text-xl font-bold text-stone-800 mb-4">5.2 å°ˆæ¡ˆè¨­ç½®æ­¥é©Ÿ</h3>
                    <ol class="list-decimal list-inside text-stone-600 space-y-4 mb-8">
                        <li>
                            <b>è¤‡è£½å°ˆæ¡ˆå„²å­˜åº«</b>ï¼š
                            é¦–å…ˆï¼Œå¾æ‚¨çš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼ˆä¾‹å¦‚ Gitï¼‰è¤‡è£½ SDK å°ˆæ¡ˆã€‚
                            <div class="code-block-wrapper mt-2">
                                <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>git clone [æ‚¨çš„å°ˆæ¡ˆå„²å­˜åº« URL]
cd [æ‚¨çš„å°ˆæ¡ˆç›®éŒ„]</code></pre>
                                <button class="copy-btn">è¤‡è£½</button>
                            </div>
                        </li>
                        <li>
                            <b>å®‰è£ä¾è³´å¥—ä»¶</b>ï¼š
                            é€²å…¥å°ˆæ¡ˆç›®éŒ„å¾Œï¼Œä½¿ç”¨ npm æˆ– Yarn å®‰è£æ‰€æœ‰å¿…è¦çš„ä¾è³´å¥—ä»¶ï¼ˆåŒ…æ‹¬é–‹ç™¼ä¾è³´å’Œé‹è¡Œæ™‚ä¾è³´ï¼‰ã€‚é€™äº›ä¾è³´é€šå¸¸å®šç¾©åœ¨ <code>package.json</code> æª”æ¡ˆä¸­ã€‚
                            <div class="code-block-wrapper mt-2">
                                <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code># ä½¿ç”¨ npm
npm install

# æˆ–è€…ä½¿ç”¨ Yarn
yarn install</code></pre>
                                <button class="copy-btn">è¤‡è£½</button>
                            </div>
                            æ­¤æ­¥é©Ÿæœƒä¸‹è¼‰ä¸¦å®‰è£ä¾‹å¦‚ <code>@stomp/stompjs</code>, <code>rollup</code>, <code>typescript</code> ç­‰å¥—ä»¶ã€‚
                        </li>
                        <li>
                            <b>ç·¨è­¯ SDK</b>ï¼š
                            SDK åŸå§‹ç¢¼æ˜¯ä½¿ç”¨ TypeScript ç·¨å¯«çš„ï¼Œéœ€è¦å°‡å…¶ç·¨è­¯ç‚º JavaScriptã€‚å°ˆæ¡ˆçš„ <code>package.json</code> ä¸­å®šç¾©äº†ä¸€å€‹ <code>build</code> è…³æœ¬ä¾†åŸ·è¡Œæ­¤æ“ä½œã€‚
                            <div class="code-block-wrapper mt-2">
                                <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>npm run build
# æˆ–è€…
yarn build</code></pre>
                                <button class="copy-btn">è¤‡è£½</button>
                            </div>
                            æ­¤å‘½ä»¤æœƒæ ¹æ“š <code>rollup.config.js</code> å°‡ <code>src/index.ts</code> ç·¨è­¯åˆ° <code>dist/index.js</code> å’Œ <code>dist/index.d.ts</code>ã€‚
                        </li>
                    </ol>

                    <h3 class="text-xl font-bold text-stone-800 mb-4">5.3 å°ˆæ¡ˆæ‰“åŒ…èˆ‡ä¾è³´ (`package.json` & `rollup.config.js`)</h3>
                    <h4 class="text-lg font-bold text-stone-700 mb-2">5.3.1 `package.json` èªªæ˜</h4>
                    <p class="text-stone-600 mb-4">`package.json` æª”æ¡ˆå®šç¾©äº†å°ˆæ¡ˆçš„å…ƒæ•¸æ“šã€è…³æœ¬å‘½ä»¤ã€ä¾è³´é …å’Œé–‹ç™¼ä¾è³´é …ã€‚</p>
                    <div class="code-block-wrapper mb-8">
                        <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>{
  "name": "@ji/game-middleware-sdk",
  "version": "0.0.2",
  "description": "game-middleware-sdk",
  "main": "./dist/index.js",
  "scripts": {
    "build": "rollup --config",
    "test": "vitest run"
  },
  "files": [
    "dist"
  ],
  "type": "module",
  "module": "ES6",
  "author": "sdk",
  "license": "ISC",
  "devDependencies": {
    "@rollup/plugin-commonjs": "^28.0.2",
    "@rollup/plugin-node-resolve": "^16.0.0",
    "@rollup/plugin-terser": "^0.4.4",
    "@rollup/plugin-typescript": "^8.2.3",
    "@types/node": "^20.17.30",
    "rollup": "^2.53.2",
    "tslib": "^2.3.0",
    "typescript": "^4.3.5",
    "vitest": "^3.1.2"
  },
  "dependencies": {
    "@stomp/stompjs": "^7.0.0"
  }
}</code></pre>
                        <button class="copy-btn">è¤‡è£½</button>
                    </div>
                    <p class="text-stone-600 mb-4">è©³ç´°èªªæ˜ï¼š</p>
                    <ul class="list-disc list-inside text-stone-600 space-y-2 mb-8">
                        <li><b>`name`</b>: å°ˆæ¡ˆçš„åç¨±ã€‚</li>
                        <li><b>`version`</b>: å°ˆæ¡ˆçš„ç•¶å‰ç‰ˆæœ¬ã€‚</li>
                        <li><b>`description`</b>: å°ˆæ¡ˆçš„ç°¡çŸ­æè¿°ã€‚</li>
                        <li><b>`main`</b>: å®šç¾©äº†ç•¶å…¶ä»–æ¨¡çµ„å°å…¥æ­¤å°ˆæ¡ˆæ™‚çš„å…¥å£é»ï¼ŒæŒ‡å‘æ‰“åŒ…å¾Œçš„ `index.js`ã€‚</li>
                        <li><b>`scripts`</b>: å®šç¾©äº†å¯åŸ·è¡Œçš„è…³æœ¬å‘½ä»¤ï¼Œå¦‚ `build` å’Œ `test`ã€‚</li>
                        <li><b>`files`</b>: å®šç¾©äº†ç•¶å°ˆæ¡ˆä½œç‚º npm åŒ…ç™¼å¸ƒæ™‚ï¼Œæ‡‰è©²åŒ…å«çš„æª”æ¡ˆæˆ–ç›®éŒ„ã€‚</li>
                        <li><b>`type`</b>: æŒ‡ç¤º Node.js æ‡‰å°‡ `.js` æª”æ¡ˆè¦–ç‚º ES æ¨¡çµ„ã€‚</li>
                        <li><b>`module`</b>: å†æ¬¡å¼·èª¿ä½¿ç”¨ ES6 æ¨¡çµ„è¦ç¯„ã€‚</li>
                        <li><b>`author`</b>: å°ˆæ¡ˆä½œè€…ã€‚</li>
                        <li><b>`license`</b>: å°ˆæ¡ˆçš„é–‹æºè¨±å¯è­‰ã€‚</li>
                        <li><b>`devDependencies`</b>: é–‹ç™¼ä¾è³´é …ï¼Œåƒ…åœ¨é–‹ç™¼æˆ–æ‰“åŒ…æ™‚éœ€è¦ã€‚</li>
                        <li><b>`dependencies`</b>: é‹è¡Œæ™‚ä¾è³´é …ï¼Œå°ˆæ¡ˆé‹è¡Œæ™‚å¿…é ˆå­˜åœ¨ã€‚</li>
                    </ul>

                    <h4 class="text-lg font-bold text-stone-700 mb-2">5.3.2 `rollup.config.js` èªªæ˜</h4>
                    <p class="text-stone-600 mb-4">`rollup.config.js` æ˜¯ Rollup æ‰“åŒ…å·¥å…·çš„é…ç½®æ–‡ä»¶ï¼Œå®ƒå®šç¾©äº†å¦‚ä½•å°‡å°ˆæ¡ˆçš„åŸå§‹ç¢¼æ‰“åŒ…æˆæœ€çµ‚çš„ç™¼å¸ƒæª”æ¡ˆã€‚</p>
                    <div class="code-block-wrapper mb-8">
                        <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>import typescript from '@rollup/plugin-typescript';
import resolve from '@rollup/plugin-node-resolve';
import commonjs from '@rollup/plugin-commonjs';
import terser from '@rollup/plugin-terser';

export default {
    input: 'src/index.ts', // æŒ‡å®šæ‰“åŒ…çš„å…¥å£æª”æ¡ˆ
    output: {
        // æ‰“åŒ…æˆ esmæ ¼å¼æª”æ¡ˆ
        file: './dist/index.js', // è¼¸å‡ºæª”æ¡ˆçš„è·¯å¾‘å’Œåç¨±
        format: 'esm', // è¼¸å‡ºæ¨¡çµ„çš„æ ¼å¼ï¼Œ'esm' ä»£è¡¨ ES æ¨¡çµ„
        // sourcemap: true, // ç”¨æ–¼é–‹ç™¼é™¤éŒ¯æ™‚ä½¿ç”¨ï¼Œç”Ÿæˆ Source Map æª”æ¡ˆ
    },
    plugins: [
        resolve(), // è§£æ node_modules ä¸­çš„æ¨¡çµ„
        typescript(), // è™•ç† TypeScript æª”æ¡ˆ
        commonjs(), // å°‡ CommonJS æ¨¡çµ„è½‰æ›ç‚º ES æ¨¡çµ„
        terser(), // å£“ç¸®æ‰“åŒ…å¾Œçš„ç¨‹å¼ç¢¼
    ],
};</code></pre>
                        <button class="copy-btn">è¤‡è£½</button>
                    </div>
                    <p class="text-stone-600 mb-4">è©³ç´°èªªæ˜ï¼š</p>
                    <ul class="list-disc list-inside text-stone-600 space-y-2 mb-8">
                        <li><b>`input`</b>: æŒ‡å®šäº† SDK å°ˆæ¡ˆçš„å…¥å£æª”æ¡ˆ (`src/index.ts`)ï¼ŒRollup å°‡å¾é€™è£¡é–‹å§‹åˆ†æå’Œæ‰“åŒ…ç¨‹å¼ç¢¼ã€‚</li>
                        <li><b>`output`</b>: å®šç¾©äº†æ‰“åŒ…å¾Œçš„è¼¸å‡ºé…ç½®ï¼ŒåŒ…æ‹¬è¼¸å‡ºæª”æ¡ˆè·¯å¾‘ã€æ ¼å¼ç­‰ã€‚</li>
                        <li><b>`plugins`</b>: å®šç¾©äº† Rollup åœ¨æ‰“åŒ…éç¨‹ä¸­ä½¿ç”¨çš„æ’ä»¶ï¼Œç”¨æ–¼è™•ç†ä¸åŒé¡å‹çš„æª”æ¡ˆå’Œå„ªåŒ–ç¨‹å¼ç¢¼ã€‚</li>
                    </ul>

                    <h3 class="text-xl font-bold text-stone-800 mb-4">5.4 æ•´åˆåˆ°éŠæˆ²å°ˆæ¡ˆ</h3>
                    <p class="text-stone-600 mb-4">ä¸€æ—¦ SDK æˆåŠŸç·¨è­¯ä¸¦æº–å‚™å°±ç·’ï¼Œæ‚¨å¯ä»¥å°‡å…¶æ•´åˆåˆ°éŠæˆ²å°ˆæ¡ˆä¸­ã€‚</p>
                    <ol class="list-decimal list-inside text-stone-600 space-y-4">
                        <li>
                            <b>è¤‡è£½æ‰“åŒ…å¾Œçš„æª”æ¡ˆ</b>ï¼š
                            å°‡ SDK å°ˆæ¡ˆ <code>dist</code> ç›®éŒ„ä¸‹çš„ <code>index.js</code> å’Œ <code>index.d.ts</code> æª”æ¡ˆè¤‡è£½åˆ°æ‚¨çš„éŠæˆ²å°ˆæ¡ˆä¸­é©ç•¶çš„ä½ç½®ï¼ˆä¾‹å¦‚ <code>assets/libs/sdk</code>ï¼‰ã€‚
                        </li>
                        <li>
                            <b>ä¿®æ”¹éŠæˆ²å°ˆæ¡ˆ `package.json` (å¦‚æœéœ€è¦)</b>ï¼š
                            å¦‚æœæ‚¨çš„éŠæˆ²å°ˆæ¡ˆæ˜¯åŸºæ–¼ Cocos Creator æˆ–å…¶ä»–éœ€è¦ ES Module æ”¯æ´çš„ç’°å¢ƒï¼Œè«‹ç¢ºä¿å…¶ <code>package.json</code> ä¸­çš„ <code>type</code> å­—æ®µè¨­ç½®ç‚º <code>"module"</code>ã€‚
                        </li>
                        <li>
                            <b>åœ¨éŠæˆ²ç¨‹å¼ç¢¼ä¸­å¼•å…¥ SDK</b>ï¼š
                            åœ¨æ‚¨çš„éŠæˆ²è…³æœ¬ä¸­ï¼Œä½¿ç”¨ ES Module èªæ³•å¼•å…¥ SDKã€‚
                            <div class="code-block-wrapper mt-2">
                                <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>import { GSMiddleware, GSM } from "./path/to/your/sdk/index.js";

// æ¥è‘—å³å¯æŒ‰ç…§ SDK çš„ä½¿ç”¨æ–¹å¼é€²è¡Œå‘¼å«
const config = {
    host: 'your-game-server.com',
    port: 8080, // æˆ–å…¶ä»–ç«¯å£
    uidA: 'player123',
    gameLoginName: 'gameLogin', // æˆ– 'testGameLogin'
    sessionID3: 'your-session-id',
    gameType: 1,
    gameId: 1001,
    jackpotGroup: 'groupA'
};
const mySDK = new GSMiddleware(config);
mySDK.connect();</code></pre>
                                <button class="copy-btn">è¤‡è£½</button>
                            </div>
                        </li>
                    </ol>
                </div>
            </section>

            <!-- Integration Guide Section -->
            <section id="integration" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">æ•´åˆæŒ‡å— / å¿«é€Ÿå…¥é–€</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ç¯€å°‡å¼•å°æ‚¨å¦‚ä½•åœ¨éŠæˆ²å°ˆæ¡ˆä¸­å¿«é€Ÿæ•´åˆä¸¦é–‹å§‹ä½¿ç”¨ SDKã€‚æˆ‘å€‘å°‡ä»¥ä¸€å€‹å®Œæ•´çš„ã€Œé€£ç·š -> ç™»å…¥ -> ç™¼é€åˆå§‹åŒ–è«‹æ±‚ã€æµç¨‹ä½œç‚ºç¯„ä¾‹ï¼Œä¸¦æä¾›æœ€ä½³å¯¦è¸å»ºè­°ã€‚</p>
                    
                    <h3 class="text-xl font-bold text-stone-800 mb-4">6.1 æ•´åˆæ­¥é©Ÿæ¦‚è¦½</h3>
                    <ol class="list-decimal list-inside text-stone-600 space-y-2 mb-8">
                        <li><b>ç’°å¢ƒæº–å‚™</b>ï¼šç¢ºä¿æ‚¨çš„é–‹ç™¼ç’°å¢ƒç¬¦åˆ SDK çš„å‰ç½®æ¢ä»¶ã€‚</li>
                        <li><b>å°å…¥ SDK</b>ï¼šå°‡ç·¨è­¯å¥½çš„ SDK æª”æ¡ˆå°å…¥åˆ°æ‚¨çš„éŠæˆ²å°ˆæ¡ˆä¸­ã€‚</li>
                        <li><b>åˆå§‹åŒ– SDK</b>ï¼šå»ºç«‹ <code>GSMiddleware</code> å¯¦ä¾‹ä¸¦é…ç½®é€£ç·šåƒæ•¸ã€‚</li>
                        <li><b>ç›£è½äº‹ä»¶</b>ï¼šè¨»å†Šå¿…è¦çš„äº‹ä»¶ç›£è½å™¨ï¼Œä»¥æ¥æ”¶ SDK çš„å›èª¿ã€‚</li>
                        <li><b>å»ºç«‹é€£ç·š</b>ï¼šå‘¼å« <code>connect()</code> æ–¹æ³•èˆ‡ä¼ºæœå™¨å»ºç«‹é€£ç·šã€‚</li>
                        <li><b>åŸ·è¡Œç™»å…¥</b>ï¼šåœ¨é€£ç·šæˆåŠŸå¾Œï¼Œç™¼é€ç™»å…¥è«‹æ±‚ã€‚</li>
                        <li><b>ç™¼é€åˆå§‹åŒ–æŒ‡ä»¤</b>ï¼šç™»å…¥æˆåŠŸå¾Œï¼Œç™¼é€éŠæˆ²åˆå§‹åŒ–æŒ‡ä»¤ã€‚</li>
                    </ol>

                    <h3 class="text-xl font-bold text-stone-800 mb-4">6.2 é€æ­¥æ•´åˆç¯„ä¾‹</h3>
                    <p class="text-stone-600 mb-4">å‡è¨­æ‚¨æ­£åœ¨é–‹ç™¼ä¸€å€‹åŸºæ–¼ TypeScript çš„éŠæˆ²ï¼Œä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡åŒ–çš„ç¨‹å¼ç¢¼ç¯„ä¾‹ï¼Œå±•ç¤ºå¦‚ä½•å°‡ SDK æ•´åˆåˆ°æ‚¨çš„éŠæˆ²é‚è¼¯ä¸­ï¼š</p>
                    <div class="code-block-wrapper mb-8">
                        <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code>// å‡è¨­é€™æ˜¯æ‚¨çš„éŠæˆ²ä¸»è…³æœ¬æˆ–å…¥å£é»
import { GSMiddleware, GSM } from "./path/to/your/sdk/index.js"; // è«‹æ ¹æ“šå¯¦éš›è·¯å¾‘èª¿æ•´

class GameClient {
    private mySDK: GSMiddleware;
    private gameConfig: any; // æ‚¨çš„éŠæˆ²é…ç½®

    constructor() {
        // 1. æº–å‚™ SDK é…ç½®
        this.gameConfig = {
            host: 'your-game-server.com', // æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›ä¼ºæœå™¨åœ°å€
            port: 8080,                   // æ›¿æ›ç‚ºæ‚¨çš„å¯¦éš›ä¼ºæœå™¨ç«¯å£
            uidA: 'player_unique_id_123', // æ›¿æ›ç‚ºå¯¦éš›ç©å®¶å”¯ä¸€ID
            userName: 'TestPlayer',       // æ›¿æ›ç‚ºå¯¦éš›ç©å®¶åç¨±
            gameLoginName: 'gameLogin',   // æˆ– 'testGameLogin' æ ¹æ“šæ‚¨çš„éœ€æ±‚
            sessionID3: 'session_id_abc', // æ›¿æ›ç‚ºå¯¦éš›sessionID3
            gameType: 1,
            gameId: 1001,
            jackpotGroup: 'default_jp_group'
        };

        // 2. åˆå§‹åŒ– SDK
        this.mySDK = new GSMiddleware(this.gameConfig);

        // 3. è¨»å†Šäº‹ä»¶ç›£è½å™¨
        this.registerSDKEvents();

        // 4. å•Ÿå‹•é€£ç·š
        this.mySDK.connect();
    }

    private registerSDKEvents(): void {
        // ç›£è½é€£ç·šäº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Connection, this.onConnection.bind(this));
        this.mySDK.addEventListener(GSM.Event.ConnectionLost, this.onConnectionLost.bind(this));

        // ç›£è½ç™»å…¥äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Login, this.onLogin.bind(this));
        this.mySDK.addEventListener(GSM.Event.LoginError, this.onLoginError.bind(this));

        // ç›£è½æŒ‡ä»¤å›æ‡‰ (ç”¨æ–¼ Spin, Settle, Init ç­‰)
        this.mySDK.addEventListener(GSM.Event.Command, this.onCommand.bind(this));

        // ç›£è½éŒ¯èª¤äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Error, this.onError.bind(this));

        // ç›£è½é¤˜é¡è®Šæ›´äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Balance, this.onBalance.bind(this));

        // ç›£è½å½©é‡‘äº‹ä»¶
        this.mySDK.addEventListener(GSM.Event.Jackpot, this.onJackpot.bind(this));
    }

    private onConnection(detail: GSM.IConnection): void {
        if (detail.success) {
            console.log('SDK é€£ç·šæˆåŠŸï¼æº–å‚™ç™»å…¥...');
            // 5. é€£ç·šæˆåŠŸå¾Œï¼ŒåŸ·è¡Œç™»å…¥
            this.mySDK.login();
        } else {
            console.error('SDK é€£ç·šå¤±æ•—ï¼');
            // è™•ç†é€£ç·šå¤±æ•—çš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯çµ¦ç©å®¶
        }
    }

    private onConnectionLost(detail: GSM.IConnectionLost): void {
        console.warn('SDK é€£ç·šä¸­æ–·ï¼åŸå› :', detail.reason);
        // è™•ç†é€£ç·šä¸­æ–·çš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºæ–·ç·šè¨Šæ¯ï¼Œä¸¦å˜—è©¦é‡æ–°é€£ç·š
        // this.mySDK.reconnect(); // å¦‚æœéœ€è¦è‡ªå‹•é‡é€£
    }

    private onLogin(data: GSM.ILogin): void {
        if (data.code === 0 && data.data) {
            console.log('ç©å®¶ç™»å…¥æˆåŠŸï¼ç©å®¶è³‡è¨Š:', data.entity);
            console.log('ç•¶å‰é¤˜é¡:', data.entity.balance); // å‡è¨­ç™»å…¥å›æ‡‰ä¸­åŒ…å«é¤˜é¡
            // 6. ç™»å…¥æˆåŠŸå¾Œï¼Œç™¼é€éŠæˆ²åˆå§‹åŒ–æŒ‡ä»¤
            this.mySDK.send(GSM.Request.Init, { commandType: GSM.Command.Init });
        } else {
            console.error('ç©å®¶ç™»å…¥å¤±æ•—ï¼è¨Šæ¯:', data.message, 'éŒ¯èª¤ç¢¼:', data.code);
        }
    }

    private onLoginError(error: GSM.ILoginError): void {
        console.error('ç™»å…¥éŒ¯èª¤ï¼éŒ¯èª¤è¨Šæ¯:', error.errorMessage, 'éŒ¯èª¤ç¢¼:', error.errorCode);
        // è™•ç†ç™»å…¥éŒ¯èª¤çš„é‚è¼¯
    }

    private onCommand(data: GSM.ICommand): void {
        console.log('æ”¶åˆ°æŒ‡ä»¤å›æ‡‰:', data.cmd, 'å…§å®¹:', data.entity);
        switch (data.cmd) {
            case 'h5.initResponse':
                console.log('éŠæˆ²åˆå§‹åŒ–å®Œæˆï¼');
                // éŠæˆ²åˆå§‹åŒ–å®Œæˆå¾Œçš„é‚è¼¯ï¼Œä¾‹å¦‚é¡¯ç¤ºéŠæˆ²ç•«é¢
                break;
            case 'h5.spinResponse':
                console.log('æ”¶åˆ° Spin çµæœ:', data.entity.spinResult);
                // è™•ç† Spin çµæœï¼Œä¾‹å¦‚æ’­æ”¾å‹•ç•«
                break;
            case 'h5.settlePlayResponse':
                console.log('æ”¶åˆ° Settle çµæœ:', data.entity.balance);
                // è™•ç† Settle çµæœï¼Œä¾‹å¦‚æ›´æ–°é¤˜é¡é¡¯ç¤º
                break;
            // ... è™•ç†å…¶ä»–æŒ‡ä»¤å›æ‡‰
            default:
                console.log('æœªçŸ¥æŒ‡ä»¤å›æ‡‰:', data.cmd);
                break;
        }
    }

    private onError(error: GSM.IError): void {
        console.error('SDK éŒ¯èª¤ï¼', error.entity.message, 'éŒ¯èª¤ç¢¼:', error.entity.code);
        if (error.isForceDisconnect) {
            console.error('éŒ¯èª¤å°è‡´å¼·åˆ¶æ–·ç·šï¼');
            // è™•ç†å¼·åˆ¶æ–·ç·šçš„é‚è¼¯
        }
    }

    private onBalance(data: GSM.IBalance): void {
        console.log('é¤˜é¡æ›´æ–°ï¼æ–°é¤˜é¡:', data.balance, 'æ™‚é–“æˆ³:', data.ts);
        // æ›´æ–°éŠæˆ²ä¸­çš„é¤˜é¡é¡¯ç¤º
    }

    private onJackpot(data: GSM.IJackpot): void {
        console.log('æ”¶åˆ° Jackpot è¨Šæ¯:', data);
        // è™•ç† Jackpot è¨Šæ¯ï¼Œä¾‹å¦‚æ›´æ–°å½©é‡‘æ± é¡¯ç¤ºæˆ–æ’­æ”¾ä¸­çå‹•ç•«
    }

    // ç¯„ä¾‹ï¼šç™¼é€ä¸€å€‹ Spin è«‹æ±‚
    public sendSpinRequest(betAmount: number, denom: number): void {
        if (this.mySDK.isConnected()) {
            const spinPayload = {
                commandType: GSM.Command.Spin,
                entity: {
                    operation: 'NormalSpin', // æˆ–å…¶ä»–æ“ä½œé¡å‹
                    playerBet: betAmount,
                    denom: denom,
                    // ... å…¶ä»– Spin ç›¸é—œåƒæ•¸
                }
            };
            this.mySDK.send(GSM.Request.Spin, spinPayload);
            console.log('ç™¼é€ Spin è«‹æ±‚...');
        } else {
            console.warn('SDK æœªé€£ç·šï¼Œç„¡æ³•ç™¼é€ Spin è«‹æ±‚ã€‚');
        }
    }

    // ç¯„ä¾‹ï¼šç™¼é€ä¸€å€‹ Settle è«‹æ±‚
    public sendSettleRequest(gameSeqNo: string): void {
        if (this.mySDK.isConnected()) {
            const settlePayload = {
                commandType: GSM.Command.Settle,
                entity: {
                    gameSeqNo: gameSeqNo,
                }
            };
            this.mySDK.send(GSM.Request.Settle, settlePayload);
            console.log('ç™¼é€ Settle è«‹æ±‚...');
        } else {
            console.warn('SDK æœªé€£ç·šï¼Œç„¡æ³•ç™¼é€ Settle è«‹æ±‚ã€‚');
        }
    }
}

// åœ¨æ‚¨çš„éŠæˆ²å•Ÿå‹•æ™‚å‰µå»º GameClient å¯¦ä¾‹
// const game = new GameClient();
// ä¹‹å¾Œæ‚¨å¯ä»¥é€é game å¯¦ä¾‹ä¾†è§¸ç™¼éŠæˆ²æ“ä½œï¼Œä¾‹å¦‚ï¼š
// game.sendSpinRequest(100, 1);</code></pre>
                        <button class="copy-btn">è¤‡è£½</button>
                    </div>
                    <h3 class="text-xl font-bold text-stone-800 mb-4">6.3 æœ€ä½³å¯¦è¸èˆ‡æ³¨æ„äº‹é …</h3>
                    <ul class="list-disc list-inside text-stone-600 space-y-2">
                        <li><b>éŒ¯èª¤è™•ç†</b>ï¼šå‹™å¿…ç›£è½ <code>GSM.Event.Error</code> å’Œ <code>GSM.Event.ConnectionLost</code> äº‹ä»¶ï¼Œä¸¦å¯¦ä½œé©ç•¶çš„éŒ¯èª¤è™•ç†å’Œé‡é€£é‚è¼¯ï¼Œä»¥æå‡éŠæˆ²çš„ç©©å®šæ€§ã€‚</li>
                        <li><b>ç”Ÿå‘½é€±æœŸç®¡ç†</b>ï¼šç¢ºä¿åœ¨éŠæˆ²é—œé–‰æˆ–åˆ‡æ›å ´æ™¯æ™‚ï¼Œæ­£ç¢ºå‘¼å« <code>mySDK.disconnect()</code> ä»¥é‡‹æ”¾è³‡æºã€‚</li>
                        <li><b>é…ç½®ç®¡ç†</b>ï¼šå°‡ SDK çš„é…ç½®åƒæ•¸ï¼ˆå¦‚ <code>host</code>, <code>port</code>, <code>apiKey</code> ç­‰ï¼‰å¾ç¨‹å¼ç¢¼ä¸­åˆ†é›¢å‡ºä¾†ï¼Œä¾‹å¦‚å„²å­˜åœ¨é…ç½®æ–‡ä»¶æˆ–ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œä»¥ä¾¿æ–¼ä¸åŒç’°å¢ƒçš„éƒ¨ç½²å’Œç®¡ç†ã€‚</li>
                        <li><b>éåŒæ­¥æ“ä½œ</b>ï¼šSDK çš„é€£ç·šå’Œè«‹æ±‚ç™¼é€éƒ½æ˜¯éåŒæ­¥æ“ä½œï¼Œè«‹ç¢ºä¿æ‚¨çš„éŠæˆ²é‚è¼¯èƒ½å¤ æ­£ç¢ºè™•ç†éåŒæ­¥å›èª¿ã€‚</li>
                        <li><b>æ—¥èªŒè¨˜éŒ„</b>ï¼šåœ¨é–‹ç™¼å’Œæ¸¬è©¦éšæ®µï¼Œé–‹å•Ÿè©³ç´°çš„æ—¥èªŒè¨˜éŒ„ï¼Œæœ‰åŠ©æ–¼è¨ºæ–·å•é¡Œã€‚åœ¨ç”Ÿç”¢ç’°å¢ƒä¸­ï¼Œå‰‡æ‡‰èª¿æ•´æ—¥èªŒç´šåˆ¥ä»¥é¿å…éå¤šè¼¸å‡ºã€‚</li>
                        <li><b>æ•ˆèƒ½è€ƒé‡</b>ï¼šå°æ–¼é«˜é »ç‡çš„æ“ä½œï¼ˆå¦‚ Spinï¼‰ï¼Œæ‡‰æ³¨æ„è«‹æ±‚çš„é »ç‡å’Œæ•¸æ“šé‡ï¼Œé¿å…é€ æˆä¼ºæœå™¨æˆ–å®¢æˆ¶ç«¯çš„è² æ“”ã€‚</li>
                    </ul>
                </div>
            </section>

            <!-- Releases Section -->
            <section id="releases" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">ç™¼å¸ƒèªªæ˜ / æ›´æ–°æ—¥èªŒ (Release Notes / Changelog)</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ç¯€æä¾› SDK å„ç‰ˆæœ¬çš„é‡é»æ›´æ–°æ‘˜è¦ï¼ŒåŒ…å«æ–°åŠŸèƒ½ã€æ•ˆèƒ½æ”¹é€²èˆ‡éŒ¯èª¤ä¿®å¾©ï¼Œå¹«åŠ©æ‚¨å¿«é€Ÿäº†è§£æ¯å€‹ç‰ˆæœ¬çš„ä¸»è¦è®Šå‹•ã€‚</p>
                    <div id="release-notes" class="space-y-8"></div>
                </div>
            </section>

            <!-- Error Codes Section -->
            <section id="errors" class="content-section">
                <div class="bg-white p-6 sm:p-8 rounded-lg shadow-sm">
                    <h2 class="text-2xl font-bold text-teal-700 mb-2">éŒ¯èª¤ç¢¼åƒè€ƒ</h2>
                    <p class="text-stone-600 leading-relaxed mb-6">æœ¬ç¯€è©³ç´°åˆ—å‡º SDK å…§éƒ¨å®šç¾©çš„éŒ¯èª¤ç¢¼åŠå…¶å«ç¾©ï¼Œå¹«åŠ©é–‹ç™¼è€…ç†è§£éŒ¯èª¤åŸå› ä¸¦é€²è¡Œæ•…éšœæ’é™¤ã€‚é™¤äº†é€™äº›å…§éƒ¨éŒ¯èª¤ç¢¼ï¼ŒSDK ä¹Ÿæœƒé€é <code>GSM.Event.Error</code> å»£æ’­ä¾†è‡ªä¼ºæœå™¨çš„éŒ¯èª¤ç¢¼ï¼Œé‚£äº›éŒ¯èª¤ç¢¼çš„å…·é«”å«ç¾©è«‹åƒé–±å¾Œç«¯æœå‹™çš„ç›¸é—œæ–‡ä»¶ã€‚</p>
                    <div class="space-y-6">
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.DISCONNECT` (1)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šé€£ç·šå·²æ–·é–‹ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šå®¢æˆ¶ç«¯ä¸»å‹•æ–·é–‹ã€ä¼ºæœå™¨é—œé–‰é€£ç·šã€ç¶²è·¯ä¸ç©©å®šç­‰ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šæª¢æŸ¥ç¶²è·¯ç‹€æ…‹ï¼Œå¦‚æœéœ€è¦ï¼Œå¯å˜—è©¦é‡æ–°é€£ç·šã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.CONNECT_FAIL` (4)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šé€£ç·šå¤±æ•—ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šä¼ºæœå™¨ä½å€æˆ–ç«¯å£éŒ¯èª¤ã€ä¼ºæœå™¨æœªé‹è¡Œã€ç¶²è·¯é˜²ç«ç‰†é˜»æ“‹ç­‰ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šæª¢æŸ¥é…ç½®ä¸­çš„ `host` å’Œ `port` æ˜¯å¦æ­£ç¢ºï¼Œç¢ºèªä¼ºæœå™¨æ˜¯å¦æ­£å¸¸é‹è¡Œã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.SUBSCRIPTION_WITHOUT_CONNECT` (901)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šåœ¨æœªå»ºç«‹é€£ç·šçš„æƒ…æ³ä¸‹å˜—è©¦è¨‚é–±ä¸»é¡Œã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šåœ¨å‘¼å« `connect()` æˆåŠŸå›èª¿ä¹‹å‰ï¼Œéæ—©åœ°å˜—è©¦è¨‚é–±ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šç¢ºä¿åœ¨æ”¶åˆ° `GSM.Event.Connection` æˆåŠŸäº‹ä»¶å¾Œå†é€²è¡Œä¸»é¡Œè¨‚é–±ã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.DUPLICATE_SUBSCRIPTION` (902)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šå˜—è©¦é‡è¤‡è¨‚é–±åŒä¸€å€‹ä¸»é¡Œã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šéŠæˆ²é‚è¼¯ä¸­å¤šæ¬¡å‘¼å«è¨‚é–±åŒä¸€å€‹ä¸»é¡Œã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šç¢ºä¿æ¯å€‹ä¸»é¡Œåªè¨‚é–±ä¸€æ¬¡ã€‚åœ¨é‡æ–°é€£ç·šå¾Œï¼ŒSDK æœƒè‡ªå‹•è™•ç†å¿…è¦çš„è¨‚é–±ï¼Œç„¡éœ€éŠæˆ²å±¤é¢é‡è¤‡æ“ä½œã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.SUBSCRIPTION_JACKPOT_ERROR` (903)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šå½©é‡‘è¨‚é–±éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šå½©é‡‘ç›¸é—œé…ç½®ï¼ˆå¦‚ `jackpotGroup`, `jackpotType`ï¼‰ä¸æ­£ç¢ºï¼Œæˆ–ä¼ºæœå™¨å½©é‡‘æœå‹™ç•°å¸¸ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šæª¢æŸ¥ `IConfig` ä¸­çš„å½©é‡‘ç›¸é—œé…ç½®ï¼Œä¸¦ç¢ºèªå¾Œç«¯å½©é‡‘æœå‹™ç‹€æ…‹ã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">`Code.BROADCAST_FAIL` (904)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šSDK å…§éƒ¨å»£æ’­äº‹ä»¶å¤±æ•—ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å¯èƒ½åŸå› </b>ï¼šå…§éƒ¨äº‹ä»¶è™•ç†æ©Ÿåˆ¶ç•°å¸¸ï¼Œé€šå¸¸æ˜¯ SDK å…§éƒ¨å•é¡Œã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šå¦‚æœé »ç¹å‡ºç¾ï¼Œè«‹è¯ç¹« SDK é–‹ç™¼åœ˜éšŠé€²è¡Œæ’æŸ¥ã€‚</p>
                        </div>
                        <div class="bg-stone-50 p-4 rounded-lg border border-stone-200">
                            <h3 class="font-bold text-stone-800 mb-2">å…¶ä»–éŒ¯èª¤ç¢¼ (ä¾†è‡ªä¼ºæœå™¨)</h3>
                            <p class="text-sm text-stone-600"><b>å«ç¾©</b>ï¼šç•¶ `GSM.Event.Error` äº‹ä»¶è§¸ç™¼æ™‚ï¼Œ`IError.entity.code` æœƒåŒ…å«ä¾†è‡ªä¼ºæœå™¨çš„å…·é«”éŒ¯èª¤ç¢¼ã€‚</p>
                            <p class="text-sm text-stone-600"><b>å»ºè­°è™•ç†</b>ï¼šé€™äº›éŒ¯èª¤ç¢¼çš„å«ç¾©æ‡‰åƒè€ƒå¾Œç«¯æœå‹™çš„éŒ¯èª¤ç¢¼å®šç¾©ã€‚æ ¹æ“šå…·é«”å«ç¾©ï¼Œå‘ç©å®¶é¡¯ç¤ºç›¸æ‡‰çš„æç¤ºï¼Œæˆ–åŸ·è¡ŒéŠæˆ²é‚è¼¯çš„èª¿æ•´ã€‚</p>
                        </div>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const apiList = document.getElementById('api-list');
            const apiDetail = document.getElementById('api-detail');
            const integrationContent = document.getElementById('integration-content');
            const releaseNotesContainer = document.getElementById('release-notes');

            const apiData = {
                init: {
                    name: 'GSMiddleware(config: IConfig)',
                    desc: 'SDK çš„å»ºæ§‹å‡½å¼ï¼Œç”¨æ–¼åˆå§‹åŒ– SDK ä¸¦è¼‰å…¥å¿…è¦çš„é…ç½®ã€‚é€™æ˜¯ä½¿ç”¨ SDK çš„ç¬¬ä¸€æ­¥ã€‚',
                    params: [
                        { name: 'config', type: 'IConfig', desc: 'åŒ…å«ä¼ºæœå™¨é€£ç·šè³‡è¨Šã€ç©å®¶ ID ç­‰çš„é…ç½®ç‰©ä»¶ã€‚' },
                        { name: 'config.host', type: 'string?', desc: 'ä¼ºæœå™¨ä¸»æ©Ÿä½å€ã€‚' },
                        { name: 'config.port', type: 'number?', desc: 'ä¼ºæœå™¨ç«¯å£ã€‚' },
                        { name: 'config.uidA', type: 'string?', desc: 'ç©å®¶çš„å”¯ä¸€è­˜åˆ¥ç¢¼ã€‚' },
                        { name: 'config.userName', type: 'string?', desc: 'ç©å®¶åç¨±ã€‚' },
                        { name: 'config.jackpotGroup', type: 'string?', desc: 'å½©é‡‘ç¾¤çµ„è­˜åˆ¥ç¢¼ã€‚' },
                        { name: 'config.gameType', type: 'number?', desc: 'éŠæˆ²é¡å‹ IDã€‚' },
                        { name: 'config.gameId', type: 'number?', desc: 'éŠæˆ² IDã€‚' },
                        { name: 'config.gameLoginName', type: 'string?', desc: 'éŠæˆ²ç™»å…¥åç¨±ï¼Œç”¨æ–¼åˆ¤æ–·æ¸¬è©¦æˆ–æ­£å¼ç™»å…¥ã€‚' },
                        { name: 'config.sessionID3', type: 'string?', desc: 'Game Severæ‰€ä½¿ç”¨çš„å…§å®¹ã€‚' }
                    ],
                    example: `import { GSMiddleware, GSM } from "./index.js";\n\nconst config = {\n  host: 'your-game-server.com',\n  port: 8080,\n  uidA: 'player123',\n  gameLoginName: 'gameLogin',\n  sessionID3: 'your-session-id',\n  gameType: 1,\n  gameId: 1001,\n  jackpotGroup: 'groupA'\n};\nconst mySDK = new GSMiddleware(config);`
                },
                connect: {
                    name: 'connect(): void',
                    desc: 'å»ºç«‹èˆ‡éŠæˆ²ä¼ºæœå™¨ä¹‹é–“çš„ WebSocket + STOMP é€£ç·šã€‚é€£ç·šæˆåŠŸæˆ–å¤±æ•—æœƒé€éäº‹ä»¶é€šçŸ¥ã€‚',
                    params: [],
                    example: `mySDK.addEventListener(GSM.Event.Connection, (detail) => {\n  if (detail.success) {\n    console.log('é€£ç·šæˆåŠŸï¼');\n  } else {\n    console.log('é€£ç·šå¤±æ•—ï¼');\n  }\n});\nmySDK.connect();`
                },
                disconnect: {
                    name: 'disconnect(): void',
                    desc: 'ä¸»å‹•æ–·é–‹èˆ‡ä¼ºæœå™¨çš„é€£ç·šï¼Œä¸¦å–æ¶ˆæ‰€æœ‰è¨‚é–±ã€‚',
                    params: [],
                    example: `// åœ¨éŠæˆ²é—œé–‰æˆ–å ´æ™¯åˆ‡æ›æ™‚å‘¼å«\nmySDK.disconnect();`
                },
                reconnect: {
                    name: 'reconnect(): Promise<void>',
                    desc: 'ç•¶é€£ç·šä¸­æ–·æ™‚ï¼Œå˜—è©¦é‡æ–°å»ºç«‹é€£ç·šã€‚SDK æœƒè‡ªå‹•é‡è©¦æœ€å¤š 3 æ¬¡ï¼Œæ¯æ¬¡é–“éš” 5 ç§’ã€‚',
                    params: [],
                    example: `mySDK.addEventListener(GSM.Event.ConnectionLost, () => {\n  console.log('é€£ç·šä¸­æ–·ï¼Œå˜—è©¦é‡æ–°é€£ç·š...');\n  mySDK.reconnect();\n});`
                },
                isConnected: {
                    name: 'isConnected(): boolean',
                    desc: 'æª¢æŸ¥ç•¶å‰ SDK æ˜¯å¦å·²æˆåŠŸé€£ç·šåˆ°ä¼ºæœå™¨ã€‚',
                    params: [],
                    example: `if (mySDK.isConnected()) {\n  console.log('SDK å·²é€£ç·š');\n} else {\n  console.log('SDK æœªé€£ç·š');\n}`
                },
                login: {
                    name: 'login(): void',
                    desc: 'å‘ä¼ºæœå™¨ç™¼é€ç©å®¶ç™»å…¥è«‹æ±‚ã€‚æ ¹æ“šé…ç½®ä¸­çš„ `gameLoginName` åˆ¤æ–·æ˜¯æ¸¬è©¦ç™»å…¥é‚„æ˜¯æ­£å¼ç™»å…¥ã€‚',
                    params: [],
                    example: `mySDK.addEventListener(GSM.Event.Login, (data) => console.log('ç™»å…¥æˆåŠŸ:', data));\nmySDK.addEventListener(GSM.Event.LoginError, (error) => console.error('ç™»å…¥å¤±æ•—:', error));\nmySDK.login();`
                },
                send: {
                    name: 'send(reqName: GSM.Request, body: any, headers?: StompHeaders): void',
                    desc: 'å‘ä¼ºæœå™¨ç™¼é€é€šç”¨è«‹æ±‚ã€‚ç”¨æ–¼ç™¼é€éŠæˆ²æŒ‡ä»¤ï¼Œä¾‹å¦‚ Spin, Settle, Init, SetRNG ç­‰ã€‚',
                    params: [
                        { name: 'reqName', type: 'GSM.Request', desc: 'è«‹æ±‚çš„ç›®çš„åœ°æˆ–é¡å‹ã€‚å¯é¸å€¼ï¼š`GSM.Request.Login`, `GSM.Request.TestLogin`, `GSM.Request.Init`, `GSM.Request.Spin`, `GSM.Request.Settle`, `GSM.Request.SetRng`, `GSM.Request.Heartbeat`ã€‚' },
                        { name: 'body', type: 'any', desc: 'è«‹æ±‚çš„è³‡æ–™å…§å®¹ã€‚å…¶çµæ§‹å–æ±ºæ–¼ `reqName`ã€‚' },
                        { name: 'headers', type: 'StompHeaders?', desc: 'å¯é¸çš„ STOMP æ¨™é ­ã€‚' }
                    ],
                    bodyDetails: `
                        <p class="text-sm text-stone-600 mt-2"><b>` + "`GSM.Request.Spin` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Spin,
  entity: {
    operation: string; // ä¾‹å¦‚ 'NormalSpin'
    playerBet: number; // ç©å®¶ä¸‹æ³¨é‡‘é¡
    denom: number;     // è²¨å¹£å–®ä½
    freeGameCard?: string; // å…è²»éŠæˆ²å¡ ID (å¯é¸)
    freeSpinCard?: string; // å…è²»æ—‹è½‰å¡ ID (å¯é¸)
    // ... å…¶ä»–èˆ‡ Spin ç›¸é—œçš„åƒæ•¸
  }
}</code></pre>
                        <p class="text-sm text-stone-600 mt-4"><b>` + "`GSM.Request.Init` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Init,
  entity: {} // é€šå¸¸ç‚ºç©ºç‰©ä»¶(ä¸ç”¨å¸¶å…¥)
}</code></pre>
                        <p class="text-sm text-stone-600 mt-4"><b>` + "`GSM.Request.Settle` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.Settle,
  entity: object {
    playerID: string; // ç©å®¶ID
    sessionID: string; // session
    gameSeqNo: string; // éŠæˆ²å±€è™Ÿ
  }
}</code></pre>
                        <p class="text-sm text-stone-600 mt-4"><b>` + "`GSM.Request.SetRng` çš„ `body` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>{
  commandType: GSM.Command.SetRng,
  entity: object {
    rng: number[]; // SetRng çš„åƒæ•¸
  }
}</code></pre>
                    `,
                    example: `const spinPayload = {\n  commandType: GSM.Command.Spin,\n  entity: {\n    playerBet: 100,\n    denom: 1,\n    //... å…¶ä»–èˆ‡ Spin ç›¸é—œçš„åƒæ•¸\n  }\n};\nmySDK.send(GSM.Request.Spin, spinPayload);`
                },
                addEventListener: {
                    name: 'addEventListener(eventName: string, callback: Function, context?: any): void',
                    desc: 'è¨»å†Šä¸€å€‹äº‹ä»¶ç›£è½å™¨ï¼Œä»¥æ¥æ”¶ä¾†è‡ª SDK æˆ–ä¼ºæœå™¨çš„é€šçŸ¥ã€‚',
                    params: [
                        { name: 'eventName', type: 'string', desc: 'è¦ç›£è½çš„äº‹ä»¶åç¨±ã€‚å¯é¸å€¼ï¼š`GSM.Event.Connection`, `GSM.Event.ConnectionLost`, `GSM.Event.Login`, `GSM.Event.LoginError`, `GSM.Event.Command`, `GSM.Event.Jackpot`, `GSM.Event.Balance`, `GSM.Event.Maintenance`, `GSM.Event.Error`ã€‚' },
                        { name: 'callback', type: 'Function', desc: 'äº‹ä»¶è§¸ç™¼æ™‚åŸ·è¡Œçš„å›å‘¼å‡½å¼ï¼Œæœƒæ¥æ”¶äº‹ä»¶è©³æƒ…ä½œç‚ºåƒæ•¸ã€‚' },
                        { name: 'context', type: 'any?', desc: 'å¯é¸çš„å›å‘¼å‡½å¼åŸ·è¡Œçš„ä¸Šä¸‹æ–‡ (`this`)ã€‚' }
                    ],
                    callbackDetails: `
                        <p class="text-sm text-stone-600 mt-2"><b>` + "`ILogin` çš„ `entity` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>interface ILogin {
  cdoe: number;    // ç™»å…¥å›å‚³ä»£ç¢¼
  data: boolean;   // æ˜¯å¦æˆåŠŸç™»å…¥
  entity: any;     // ç™»å…¥çš„è³‡æ–™å…§å®¹
  message: string; // ç™»å…¥å›æ‡‰çš„è¨Šæ¯
  ts: number;      // æ™‚é–“æˆ³è¨˜
}</code></pre>
                        <p class="text-sm text-stone-600 mt-4"><b>` + "`ICommand` çš„ `entity` çµæ§‹ç¯„ä¾‹ï¼š</b></p>" + `
                        <pre class="bg-stone-100 text-stone-800 p-3 rounded-lg text-xs overflow-x-auto"><code>
interface ICommand {
  cmd: string;  // å›æ‡‰çš„è¨Šæ¯æ¨™é ­
  code: string; // å›æ‡‰ä»£ç¢¼
  entity: and;  // å›æ‡‰çš„å…§å®¹
}</code></pre>
                    `,
                    example: `mySDK.addEventListener(GSM.Event.Balance, (evtParams: any) => {\n  console.log('æ–°é¤˜é¡: ' + data.balance);\n  this.sendNotification(evtParams.cmd, evtParams);\n}, this);`
                },
                removeEventListener: {
                    name: 'removeEventListener(eventName: string, callback: Function): void',
                    desc: 'ç§»é™¤å…ˆå‰è¨»å†Šçš„äº‹ä»¶ç›£è½å™¨ã€‚',
                    params: [
                        { name: 'eventName', type: 'string', desc: 'è¦ç§»é™¤ç›£è½çš„äº‹ä»¶åç¨±ã€‚' },
                        { name: 'callback', type: 'Function', desc: 'è¦ç§»é™¤çš„å›å‘¼å‡½å¼ã€‚' }
                    ],
                    example: `const myBalanceHandler = (data) => {};\nmySDK.addEventListener(GSM.Event.Balance, myBalanceHandler, this);\n\n// ... ç¨å¾Œç§»é™¤\nmySDK.removeEventListener(GSM.Event.Balance, myBalanceHandler);`
                }
            };

            const releaseNotesData = [
                {
                    version: "0.0.3",
                    date: "2025-07-03",
                    changes: [
                        { type: "feature", text: "æ–°å¢å®Œæ•´çš„æ–·ç·šèˆ‡é‡æ–°é€£ç·šæµç¨‹ï¼ŒåŒ…å«è‡ªå‹•é‡è©¦æ©Ÿåˆ¶ã€‚" },
                        { type: "feature", text: "æ–°å¢ `SetRNG` åŠŸèƒ½ï¼Œå…è¨±å®¢æˆ¶ç«¯è¨­å®šäº‚æ•¸ç¨®å­ã€‚" },
                        { type: "feature", text: "æ–°å¢ `HeartBeat` äº‹ä»¶ï¼Œç”¨æ–¼ç¶­æŒé€£ç·šã€‚" },
                        { type: "improvement", text: "Spin è«‹æ±‚æ–°å¢ `freeGameCard` èˆ‡ `freeSpinCard` åŠŸèƒ½ç¯„ä¾‹ã€‚" },
                        { type: "improvement", text: "èª¿æ•´æ‰“åŒ…è¼¸å‡ºï¼Œ`dist` ç›®éŒ„ç¾åœ¨åªåŒ…å« `index.js` å’Œ `index.d.ts`ã€‚" }
                    ]
                },
                {
                    version: "0.0.2",
                    date: "2025-05-16",
                    changes: [
                        { type: "improvement", text: "`SettlePlay` è«‹æ±‚ä¸å†æ”œå¸¶ `playerID` åŠ `sessionID`ï¼Œç°¡åŒ–è«‹æ±‚åƒæ•¸ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Change Balance` åŠŸèƒ½ï¼Œä¼ºæœå™¨å¯ä¸»å‹•æ¨æ’­é¤˜é¡è®Šæ›´ã€‚" },
                        { type: "feature", text: "æ–°å¢å®Œæ•´çš„ `Jackpot` æµç¨‹ï¼ŒåŒ…å«å½©é‡‘æ± æ›´æ–°èˆ‡ä¸­çè€…æ¨æ’­ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Maintenance` æµç¨‹ï¼Œç”¨æ–¼è™•ç†ä¼ºæœå™¨ç¶­è­·ç‹€æ…‹ã€‚" }
                    ]
                },
                {
                    version: "0.0.1",
                    date: "2025-04-15",
                    changes: [
                        { type: "feature", text: "æ–°å¢ `Error` æµç¨‹ï¼Œç”¨æ–¼è™•ç†ä¼ºæœå™¨ç«¯éŒ¯èª¤ã€‚" },
                        { type: "feature", text: "æ–°å¢ `Spin` å’Œ `Settle` æ ¸å¿ƒéŠæˆ²æµç¨‹ã€‚" },
                        { type: "improvement", text: "çµ±ä¸€èª¿æ•´å°ˆæ¡ˆå…§çš„æ‰€æœ‰åè©ï¼Œä½¿å…¶æ›´å…·ä¸€è‡´æ€§ã€‚" },
                        { type: "initial", text: "SDK åˆç‰ˆç™¼å¸ƒï¼ŒåŒ…å«åŸºæœ¬çš„é€£ç·šã€ç™»å…¥å’Œäº‹ä»¶è™•ç†åŠŸèƒ½ã€‚" }
                    ]
                }
            ];

            function renderReleaseNotes() {
                releaseNotesContainer.innerHTML = releaseNotesData.map(release => `
                    <div class="relative pl-8">
                        <div class="absolute left-0 top-1 w-4 h-4 bg-teal-500 rounded-full border-4 border-stone-100"></div>
                        <div class="absolute left-[7px] top-5 h-full w-0.5 bg-stone-200"></div>
                        <h3 class="text-lg font-bold text-stone-800">Version ${release.version}</h3>
                        <p class="text-sm text-stone-500 mb-3">${release.date}</p>
                        <ul class="space-y-2">
                            ${release.changes.map(change => `
                                <li class="flex items-start">
                                    <span class="release-tag mr-2 tag-${change.type}">${change.type === 'feature' ? 'âœ¨ æ–°åŠŸèƒ½' : change.type === 'improvement' ? 'ğŸš€ æ”¹é€²' : 'ğŸ‰ åˆå§‹ç‰ˆæœ¬'}</span>
                                    <span class="text-stone-600">${change.text}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `).join('');
            }

            // Navigation logic
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('data-target');
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    link.classList.add('active');
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === targetId) {
                            section.classList.add('active');
                        }
                    });
                });
            });

            function renderApiDetail(key) {
                const data = apiData[key];
                if (!data) return;
                let paramsHtml = '<p class="text-stone-500">ç„¡åƒæ•¸ã€‚</p>';
                if (data.params.length > 0) {
                    paramsHtml = data.params.map(p => `
                        <div class="flex items-start">
                            <code class="text-sm bg-stone-100 text-red-600 px-2 py-1 rounded">${p.name}</code>
                            <span class="text-sm text-stone-500 mx-2">${p.type}</span>
                            <p class="text-sm text-stone-600 flex-1">${p.desc}</p>
                        </div>
                    `).join('<div class="my-2 border-b border-stone-200"></div>');
                }
                apiDetail.innerHTML = `
                    <div class="h-full">
                        <h3 class="text-xl font-bold text-stone-800 mb-2">${data.name}</h3>
                        <p class="text-stone-600 leading-relaxed mb-6">${data.desc}</p>
                        <h4 class="font-bold text-stone-700 mb-3">åƒæ•¸</h4>
                        <div class="space-y-3 mb-6">${paramsHtml}</div>
                        ${data.bodyDetails ? `<h4 class="font-bold text-stone-700 mb-3">` + "`body` åƒæ•¸çµæ§‹è©³æƒ…</h4>" + `<div class="mb-6">${data.bodyDetails}</div>` : ''}
                        ${data.callbackDetails ? `<h4 class="font-bold text-stone-700 mb-3">` + "`callback` åƒæ•¸è©³æƒ…</h4>" + `<div class="mb-6">${data.callbackDetails}</div>` : ''}
                        <h4 class="font-bold text-stone-700 mb-3">ç¯„ä¾‹</h4>
                        <div class="code-block-wrapper">
                            <pre class="bg-stone-800 text-white p-4 rounded-lg text-sm overflow-x-auto"><code class="language-typescript">${data.example}</code></pre>
                            <button class="copy-btn">è¤‡è£½</button>
                        </div>
                    </div>
                `;
                addCopyListeners();
            }

            function initApiReference() {
                if (!apiList) return;
                Object.keys(apiData).forEach((key, index) => {
                    const item = document.createElement('li');
                    item.innerHTML = `<a href="#" class="api-list-item block p-3 text-sm text-stone-700 hover:bg-stone-100 transition-colors duration-200">${apiData[key].name}</a>`;
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.querySelectorAll('.api-list-item').forEach(el => el.classList.remove('active'));
                        item.querySelector('a').classList.add('active');
                        renderApiDetail(key);
                    });
                    apiList.appendChild(item);
                    if (index === 0) {
                        item.querySelector('a').classList.add('active');
                        renderApiDetail(key);
                    }
                });
            }

            function addCopyListeners() {
                document.querySelectorAll('.copy-btn').forEach(button => {
                    button.addEventListener('click', () => {
                        const pre = button.previousElementSibling;
                        const code = pre.querySelector('code');
                        const text = code.innerText;
                        
                        const textArea = document.createElement('textarea');
                        textArea.value = text;
                        document.body.appendChild(textArea);
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            button.innerText = 'å·²è¤‡è£½!';
                            setTimeout(() => { button.innerText = 'è¤‡è£½'; }, 2000);
                        } catch (err) {
                            console.error('ç„¡æ³•è¤‡è£½æ–‡å­—: ', err);
                        }
                        document.body.removeChild(textArea);
                    });
                });
            }

            // Initial render
            initApiReference();
            if (releaseNotesContainer) {
                renderReleaseNotes();
            }
            addCopyListeners();
        });
    </script>
</body>
</html>

